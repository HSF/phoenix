<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Phoenix API Docs</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">Phoenix API Docs</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">












<ol class="breadcrumb">
  <li class="breadcrumb-item">Classes</li>
  <li class="breadcrumb-item" >ImportManager</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/managers/three-manager/import-manager.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Manager for managing event display&#39;s import related functionality.</p>

            </p>




            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#clipPlanes" >clipPlanes</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#EVENT_DATA_ID" >EVENT_DATA_ID</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#GEOMETRIES_ID" >GEOMETRIES_ID</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getObjectSize" >getObjectSize</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadGLTFGeometry" >loadGLTFGeometry</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loadGLTFGeometryInternal" >loadGLTFGeometryInternal</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadJSONGeometry" >loadJSONGeometry</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadOBJGeometry" >loadOBJGeometry</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#parseGLTFGeometry" >parseGLTFGeometry</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#parseGLTFGeometryFromArrayBuffer" >parseGLTFGeometryFromArrayBuffer</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#parseOBJGeometry" >parseOBJGeometry</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#parsePhnxScene" >parsePhnxScene</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#processGeometry" >processGeometry</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#processGLTFSceneName" >processGLTFSceneName</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#processOBJ" >processOBJ</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#setObjFlat" >setObjFlat</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#zipHandlingFileWrapper" >zipHandlingFileWrapper</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#zipHandlingInternal" >zipHandlingInternal</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#zipHandlingURLWrapper" >zipHandlingURLWrapper</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(clipPlanes: Plane[], EVENT_DATA_ID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, GEOMETRIES_ID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/managers/three-manager/import-manager.ts:33</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructor for the import manager.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>clipPlanes</td>
                                                  
                                                        <td>
                                                                    <code>Plane[]</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Planes for clipping geometry.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>EVENT_DATA_ID</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Object group ID containing event data.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>GEOMETRIES_ID</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Object group ID containing detector geometries.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clipPlanes"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>clipPlanes</b></span>
                        <a href="#clipPlanes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Plane[]</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/managers/three-manager/import-manager.ts:29</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Planes for clipping geometry.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="EVENT_DATA_ID"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>EVENT_DATA_ID</b></span>
                        <a href="#EVENT_DATA_ID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/managers/three-manager/import-manager.ts:31</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Object group ID containing event data.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="GEOMETRIES_ID"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>GEOMETRIES_ID</b></span>
                        <a href="#GEOMETRIES_ID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/managers/three-manager/import-manager.ts:33</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Object group ID containing detector geometries.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getObjectSize"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>getObjectSize</b></span>
                        <a href="#getObjectSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getObjectSize(object: Mesh)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="646"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:646</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get the size of object.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>object</td>
                                            <td>
                                                        <code>Mesh</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Object to get the size of.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>The size (vector) of object as a string.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadGLTFGeometry"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>loadGLTFGeometry</b></span>
                        <a href="#loadGLTFGeometry"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadGLTFGeometry(sceneUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, menuNodeName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, scale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, initiallyVisible: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="341"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:341</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads a GLTF (.gltf,.glb) scene(s)/geometry from the given URL.
also support zipped versions of the files</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>sceneUrl</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>URL to the GLTF (.gltf/.glb or a zip with such file(s)) file.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name of the loaded scene/geometry if a single scene is present, ignored if several scenes are present.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>menuNodeName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Path to the node in Phoenix menu to add the geometry to. Use <code>&gt;</code> as a separator.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>scale</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Scale of the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>initiallyVisible</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Whether the geometry is initially visible or not.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadGLTFGeometryInternal"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>loadGLTFGeometryInternal</b></span>
                        <a href="#loadGLTFGeometryInternal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadGLTFGeometryInternal(sceneData: ArrayBuffer, path: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, menuNodeName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, scale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, initiallyVisible: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="373"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:373</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads a GLTF (.gltf) scene(s)/geometry from the given ArrayBuffer.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>sceneData</td>
                                            <td>
                                                        <code>ArrayBuffer</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>ArrayBuffer containing the geometry file&#39;s content (gltf or glb data)</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>path</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The base path from which to find subsequent glTF resources such as textures and .bin data files</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name of the loaded scene/geometry if a single scene is present, ignored if several scenes are present.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>menuNodeName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Path to the node in Phoenix menu to add the geometry to. Use <code>&gt;</code> as a separator.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>scale</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Scale of the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>initiallyVisible</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Whether the geometry is initially visible or not.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadJSONGeometry"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>loadJSONGeometry</b></span>
                        <a href="#loadJSONGeometry"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadJSONGeometry(json: string | literal type, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, scale?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, doubleSided?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="553"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:553</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads geometries from JSON.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>json</td>
                                            <td>
                                                        <code>string | literal type</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>JSON or URL to JSON file of the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name of the geometry or group of geometries.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>scale</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Scale of the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>doubleSided</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Renders both sides of the material.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadOBJGeometry"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>loadOBJGeometry</b></span>
                        <a href="#loadOBJGeometry"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadOBJGeometry(filename: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, color: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, doubleSided: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, setFlat: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="60"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:60</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads an OBJ (.obj) geometry from the given filename.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>filename</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Path to the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name given to the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>color</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Color to initialize the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>doubleSided</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Renders both sides of the material.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>setFlat</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Whether object should be flat-shaded or not.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseGLTFGeometry"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>parseGLTFGeometry</b></span>
                        <a href="#parseGLTFGeometry"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>parseGLTFGeometry(file: File)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="473"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:473</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Parses and loads a geometry in GLTF (.gltf,.glb) format.
Also supports zip versions of those</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseGLTFGeometryFromArrayBuffer"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>parseGLTFGeometryFromArrayBuffer</b></span>
                        <a href="#parseGLTFGeometryFromArrayBuffer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>parseGLTFGeometryFromArrayBuffer(geometry: ArrayBuffer, path: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="488"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:488</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Parses and loads a geometry in GLTF (.gltf) format.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>geometry</td>
                                            <td>
                                                        <code>ArrayBuffer</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>ArrayBuffer containing the geometry file&#39;s content (gltf or glb data)</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>path</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The base path from which to find subsequent glTF resources such as textures and .bin data files</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name given to the geometry.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseOBJGeometry"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>parseOBJGeometry</b></span>
                        <a href="#parseOBJGeometry"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>parseOBJGeometry(geometry: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="97"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:97</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Parses and loads a geometry in OBJ (.obj) format.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>geometry</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Geometry in OBJ (.obj) format.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name given to the geometry.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Object3D</code>

                        </div>
                            <div class="io-description">
                                <p>The processed object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parsePhnxScene"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>parsePhnxScene</b></span>
                        <a href="#parsePhnxScene"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>parsePhnxScene(scene: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, callback: (geometries: Object3D,eventData: Object3D) => void)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="180"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:180</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Parses and loads a scene in Phoenix (.phnx) format.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>scene</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Geometry in Phoenix (.phnx) format.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>callback</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Callback called after the scene is loaded.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the scene.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processGeometry"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>processGeometry</b></span>
                        <a href="#processGeometry"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processGeometry(geometry: Object3D, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, scale?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, doubleSided?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="593"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:593</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Process the geometry by setting up material and clipping attributes.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>geometry</td>
                                            <td>
                                                        <code>Object3D</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Geometry to be processed.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name of the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>scale</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Scale of the geometry.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>doubleSided</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Renders both sides of the material.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processGLTFSceneName"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>processGLTFSceneName</b></span>
                        <a href="#processGLTFSceneName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processGLTFSceneName(sceneName?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, menuNodeName?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="533"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:533</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get geometry name and menuNodeName from GLTF scene name.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>sceneName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>GLTF scene name.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>menuNodeName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Path to the node in Phoenix menu to add the geometry to. Use <code>&gt;</code> as a separator.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{ name: any; menuNodeName: any; }</code>

                        </div>
                            <div class="io-description">
                                <p>Geometry name and menuNodeName if present in scene name.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processOBJ"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>processOBJ</b></span>
                        <a href="#processOBJ"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processOBJ(object: Object3D, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, color: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, doubleSided: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, setFlat: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="112"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:112</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Process the geometry object being loaded from OBJ (.obj) format.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>object</td>
                                            <td>
                                                        <code>Object3D</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>3D object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Name of the object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>color</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Color of the object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>doubleSided</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Renders both sides of the material.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>setFlat</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Whether object should be flat-shaded or not.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Object3D</code>

                        </div>
                            <div class="io-description">
                                <p>The processed object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setObjFlat"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>setObjFlat</b></span>
                        <a href="#setObjFlat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setObjFlat(object3d: Object3D, color: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, doubleSided: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, setFlat: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="132"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:132</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Process the 3D object and flatten it.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>object3d</td>
                                            <td>
                                                        <code>Object3D</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Group of geometries that make up the object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>color</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Color of the object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>doubleSided</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Renders both sides of the material.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>setFlat</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Whether object should be flat-shaded or not.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Object3D</code>

                        </div>
                            <div class="io-description">
                                <p>The processed object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zipHandlingFileWrapper"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>zipHandlingFileWrapper</b></span>
                        <a href="#zipHandlingFileWrapper"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>zipHandlingFileWrapper(file: File, callback: (fileContent: ArrayBuffer,path: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>,name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>) => void)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="275"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:275</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Wraps a method taking a file and returning a Promise for
loading a Geometry. It deals with zip file cases and then
calls the original method on each file found</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>the original file</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>callback</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>the original method</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zipHandlingInternal"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>zipHandlingInternal</b></span>
                        <a href="#zipHandlingInternal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>zipHandlingInternal(path: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, filename: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, data: ArrayBuffer, callback: (fileContent: ArrayBuffer,path: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>,name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>) => void, resolve: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, reject: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="222"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:222</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>handles some file content and loads a Geometry contained..
It deals with zip file cases and then
calls the given method on each file found</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>path</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>path of the original file</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>filename</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>name of the original file</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                        <code>ArrayBuffer</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>content of the original file</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>callback</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>the method to be called on each file content</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>resolve</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>the method to be called on success</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>reject</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>the method to be called on failure</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zipHandlingURLWrapper"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>zipHandlingURLWrapper</b></span>
                        <a href="#zipHandlingURLWrapper"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>zipHandlingURLWrapper(file: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: (fileContent: ArrayBuffer,path: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>,name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>) => void)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="307"
                                    class="link-to-prism">src/managers/three-manager/import-manager.ts:307</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Wraps a method taking a URL and returning a Promise for
loading a Geometry. It deals with zip file cases and then
calls the original method on each file found</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>the original file</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>callback</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>the original method</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#GeometryUIParameters" target="_self" >Promise&lt;GeometryUIParameters[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Promise for loading the geometry.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  DoubleSide,
  Mesh,
  LineSegments,
  LineBasicMaterial,
  MeshPhongMaterial,
  Object3D,
  Plane,
  Material,
  ObjectLoader,
  Color,
  FrontSide,
  Vector3,
  Matrix4,
  REVISION,
} from &#x27;three&#x27;;
import { OBJLoader } from &#x27;three/examples/jsm/loaders/OBJLoader.js&#x27;;
import { GLTFLoader } from &#x27;three/examples/jsm/loaders/GLTFLoader.js&#x27;;
import { DRACOLoader } from &#x27;three/examples/jsm/loaders/DRACOLoader.js&#x27;;
import type { GeometryUIParameters } from &#x27;../../lib/types/geometry-ui-parameters.js&#x27;;
import * as BufferGeometryUtils from &#x27;three/examples/jsm/utils/BufferGeometryUtils.js&#x27;;
import JSZip from &#x27;jszip&#x27;;

/**
 * Manager for managing event display&#x27;s import related functionality.
 */
export class ImportManager {
  /** Planes for clipping geometry. */
  private clipPlanes: Plane[];
  /** Object group ID containing event data. */
  private EVENT_DATA_ID: string;
  /** Object group ID containing detector geometries. */
  private GEOMETRIES_ID: string;

  /**
   * Constructor for the import manager.
   * @param clipPlanes Planes for clipping geometry.
   * @param EVENT_DATA_ID Object group ID containing event data.
   * @param GEOMETRIES_ID Object group ID containing detector geometries.
   */
  constructor(
    clipPlanes: Plane[],
    EVENT_DATA_ID: string,
    GEOMETRIES_ID: string,
  ) {
    this.clipPlanes &#x3D; clipPlanes;
    this.EVENT_DATA_ID &#x3D; EVENT_DATA_ID;
    this.GEOMETRIES_ID &#x3D; GEOMETRIES_ID;
  }

  /**
   * Loads an OBJ (.obj) geometry from the given filename.
   * @param filename Path to the geometry.
   * @param name Name given to the geometry.
   * @param color Color to initialize the geometry.
   * @param doubleSided Renders both sides of the material.
   * @param setFlat Whether object should be flat-shaded or not.
   * @returns Promise for loading the geometry.
   */
  public loadOBJGeometry(
    filename: string,
    name: string,
    color: any,
    doubleSided: boolean,
    setFlat: boolean,
  ): Promise&lt;GeometryUIParameters&gt; {
    color &#x3D; color ?? 0x41a6f4;
    const objLoader &#x3D; new OBJLoader();

    return new Promise&lt;GeometryUIParameters&gt;((resolve, reject) &#x3D;&gt; {
      objLoader.load(
        filename,
        (object) &#x3D;&gt; {
          const processedObject &#x3D; this.processOBJ(
            object,
            name,
            color,
            doubleSided,
            setFlat,
          );
          resolve({ object: processedObject });
        },
        () &#x3D;&gt; {},
        (error) &#x3D;&gt; {
          reject(error);
        },
      );
    });
  }

  /**
   * Parses and loads a geometry in OBJ (.obj) format.
   * @param geometry Geometry in OBJ (.obj) format.
   * @param name Name given to the geometry.
   * @returns The processed object.
   */
  public parseOBJGeometry(geometry: string, name: string): Object3D {
    const objLoader &#x3D; new OBJLoader();
    const object &#x3D; objLoader.parse(geometry);
    return this.processOBJ(object, name, 0x41a6f4, false, false);
  }

  /**
   * Process the geometry object being loaded from OBJ (.obj) format.
   * @param object 3D object.
   * @param name Name of the object.
   * @param color Color of the object.
   * @param doubleSided Renders both sides of the material.
   * @param setFlat Whether object should be flat-shaded or not.
   * @returns The processed object.
   */
  private processOBJ(
    object: Object3D,
    name: string,
    color: any,
    doubleSided: boolean,
    setFlat: boolean,
  ): Object3D {
    object.name &#x3D; name;
    object.userData &#x3D; { name };
    return this.setObjFlat(object, color, doubleSided, setFlat);
  }

  /**
   * Process the 3D object and flatten it.
   * @param object3d Group of geometries that make up the object.
   * @param color Color of the object.
   * @param doubleSided Renders both sides of the material.
   * @param setFlat Whether object should be flat-shaded or not.
   * @returns The processed object.
   */
  private setObjFlat(
    object3d: Object3D,
    color: any,
    doubleSided: boolean,
    setFlat: boolean,
  ): Object3D {
    const material2 &#x3D; new MeshPhongMaterial({
      color: color,
      shininess: 0,
      wireframe: false,
      clippingPlanes: this.clipPlanes,
      clipIntersection: true,
      clipShadows: false,
      side: doubleSided ? DoubleSide : FrontSide,
      flatShading: setFlat,
    });

    object3d.traverse((child: Object3D) &#x3D;&gt; {
      if (child instanceof Mesh) {
        child.name &#x3D; object3d.name;
        child.userData &#x3D; object3d.userData;
        child.userData.size &#x3D; this.getObjectSize(child);
        // Use the new material
        if (child.material instanceof Material) {
          child.material.dispose();
          child.material &#x3D; material2;
        }
        // enable casting shadows
        child.castShadow &#x3D; false;
        child.receiveShadow &#x3D; false;
      } else {
        if (
          child instanceof LineSegments &amp;&amp;
          child.material instanceof LineBasicMaterial
        ) {
          (child.material.color as Color).set(color);
        }
      }
    });
    return object3d;
  }

  /**
   * Parses and loads a scene in Phoenix (.phnx) format.
   * @param scene Geometry in Phoenix (.phnx) format.
   * @param callback Callback called after the scene is loaded.
   * @returns Promise for loading the scene.
   */
  public parsePhnxScene(
    scene: any,
    callback: (geometries?: Object3D, eventData?: Object3D) &#x3D;&gt; void,
  ): Promise&lt;void&gt; {
    const loader &#x3D; new GLTFLoader();

    const dracoLoader &#x3D; new DRACOLoader();
    dracoLoader.setDecoderPath(
      &#x60;https://cdn.jsdelivr.net/npm/three@0.${REVISION}.0/examples/jsm/libs/draco/&#x60;,
    );
    loader.setDRACOLoader(dracoLoader);

    const sceneString &#x3D; JSON.stringify(scene, null, 2);

    return new Promise&lt;void&gt;((resolve, reject) &#x3D;&gt; {
      loader.parse(
        sceneString,
        &#x27;&#x27;,
        (gltf) &#x3D;&gt; {
          const eventData &#x3D; gltf.scene.getObjectByName(this.EVENT_DATA_ID);
          const geometries &#x3D; gltf.scene.getObjectByName(this.GEOMETRIES_ID);
          callback(eventData, geometries);
          resolve();
        },
        (error) &#x3D;&gt; {
          reject(error);
        },
      );
    });
  }

  /**
   * handles some file content and loads a Geometry contained..
   * It deals with zip file cases and then
   * calls the given method on each file found
   * @param path path of the original file
   * @param filename name of the original file
   * @param data content of the original file
   * @param callback the method to be called on each file content
   * @param resolve the method to be called on success
   * @param reject the method to be called on failure
   */
  private zipHandlingInternal(
    path: string,
    filename: string,
    data: ArrayBuffer,
    callback: (
      fileContent: ArrayBuffer,
      path: string,
      name: string,
    ) &#x3D;&gt; Promise&lt;GeometryUIParameters[]&gt;,
    resolve: any,
    reject: any,
  ) {
    if (filename.split(&#x27;.&#x27;).pop() &#x3D;&#x3D; &#x27;zip&#x27;) {
      JSZip.loadAsync(data).then((archive) &#x3D;&gt; {
        const promises: Promise&lt;any&gt;[] &#x3D; [];
        for (const filePath in archive.files) {
          promises.push(
            archive
              .file(filePath)
              .async(&#x27;arraybuffer&#x27;)
              .then((fileData) &#x3D;&gt; {
                return callback(fileData, path, filePath.split(&#x27;.&#x27;)[0]);
              }),
          );
        }
        let allGeometriesUIParameters: GeometryUIParameters[] &#x3D; [];
        Promise.all(promises).then((geos) &#x3D;&gt; {
          geos.forEach((geo) &#x3D;&gt; {
            allGeometriesUIParameters &#x3D; allGeometriesUIParameters.concat(geo);
          });
          resolve(allGeometriesUIParameters);
        });
      });
    } else {
      callback(data, path, filename.split(&#x27;.&#x27;)[0]).then(
        (geo) &#x3D;&gt; {
          resolve(geo);
        },
        (error) &#x3D;&gt; {
          reject(error);
        },
      );
    }
  }

  /**
   * Wraps a method taking a file and returning a Promise for
   * loading a Geometry. It deals with zip file cases and then
   * calls the original method on each file found
   * @param file the original file
   * @param callback the original method
   * @returns Promise for loading the geometry.
   */
  private zipHandlingFileWrapper(
    file: File,
    callback: (
      fileContent: ArrayBuffer,
      path: string,
      name: string,
    ) &#x3D;&gt; Promise&lt;GeometryUIParameters[]&gt;,
  ): Promise&lt;GeometryUIParameters[]&gt; {
    return new Promise&lt;GeometryUIParameters[]&gt;((resolve, reject) &#x3D;&gt; {
      const reader &#x3D; new FileReader();
      reader.onload &#x3D; () &#x3D;&gt; {
        this.zipHandlingInternal(
          &#x27;&#x27;,
          file.name,
          reader.result as ArrayBuffer,
          callback,
          resolve,
          reject,
        );
      };
      reader.readAsArrayBuffer(file);
    });
  }

  /**
   * Wraps a method taking a URL and returning a Promise for
   * loading a Geometry. It deals with zip file cases and then
   * calls the original method on each file found
   * @param file the original file
   * @param callback the original method
   * @returns Promise for loading the geometry.
   */
  private zipHandlingURLWrapper(
    file: string,
    callback: (
      fileContent: ArrayBuffer,
      path: string,
      name: string,
    ) &#x3D;&gt; Promise&lt;GeometryUIParameters[]&gt;,
  ): Promise&lt;GeometryUIParameters[]&gt; {
    return new Promise&lt;GeometryUIParameters[]&gt;((resolve, reject) &#x3D;&gt; {
      fetch(file).then((response) &#x3D;&gt; {
        return response.arrayBuffer().then((data) &#x3D;&gt; {
          this.zipHandlingInternal(
            file.substr(0, file.lastIndexOf(&#x27;/&#x27;)),
            file,
            data,
            callback,
            resolve,
            reject,
          );
        });
      });
    });
  }

  /**
   * Loads a GLTF (.gltf,.glb) scene(s)/geometry from the given URL.
   * also support zipped versions of the files
   * @param sceneUrl URL to the GLTF (.gltf/.glb or a zip with such file(s)) file.
   * @param name Name of the loaded scene/geometry if a single scene is present, ignored if several scenes are present.
   * @param menuNodeName Path to the node in Phoenix menu to add the geometry to. Use &#x60;&gt;&#x60; as a separator.
   * @param scale Scale of the geometry.
   * @param initiallyVisible Whether the geometry is initially visible or not.
   * @returns Promise for loading the geometry.
   */
  public loadGLTFGeometry(
    sceneUrl: string,
    name: string,
    menuNodeName: string,
    scale: number,
    initiallyVisible: boolean,
  ): Promise&lt;GeometryUIParameters[]&gt; {
    return this.zipHandlingURLWrapper(
      sceneUrl,
      (data: ArrayBuffer, path: string, ignoredName: string) &#x3D;&gt; {
        return this.loadGLTFGeometryInternal(
          data,
          path,
          name,
          menuNodeName,
          scale,
          initiallyVisible,
        );
      },
    );
  }

  /**
   * Loads a GLTF (.gltf) scene(s)/geometry from the given ArrayBuffer.
   * @param sceneData ArrayBuffer containing the geometry file&#x27;s content (gltf or glb data)
   * @param path The base path from which to find subsequent glTF resources such as textures and .bin data files
   * @param name Name of the loaded scene/geometry if a single scene is present, ignored if several scenes are present.
   * @param menuNodeName Path to the node in Phoenix menu to add the geometry to. Use &#x60;&gt;&#x60; as a separator.
   * @param scale Scale of the geometry.
   * @param initiallyVisible Whether the geometry is initially visible or not.
   * @returns Promise for loading the geometry.
   */
  private loadGLTFGeometryInternal(
    sceneData: ArrayBuffer,
    path: string,
    name: string,
    menuNodeName: string,
    scale: number,
    initiallyVisible: boolean,
  ): Promise&lt;GeometryUIParameters[]&gt; {
    const loader &#x3D; new GLTFLoader();
    const dracoLoader &#x3D; new DRACOLoader();
    dracoLoader.setDecoderPath(
      &#x60;https://cdn.jsdelivr.net/npm/three@0.${REVISION}.0/examples/jsm/libs/draco/&#x60;,
    );
    loader.setDRACOLoader(dracoLoader);

    return new Promise&lt;GeometryUIParameters[]&gt;((resolve, reject) &#x3D;&gt; {
      loader.parse(
        sceneData,
        path,
        (gltf) &#x3D;&gt; {
          const allGeometries: GeometryUIParameters[] &#x3D; [];

          for (const scene of gltf.scenes) {
            scene.visible &#x3D; scene.userData.visible ?? initiallyVisible;
            const sceneName &#x3D; this.processGLTFSceneName(
              scene.name,
              menuNodeName,
            );

            const materials: {
              [key: string]: {
                material: Material;
                geoms: any[];
                renderOrder: number;
              };
            } &#x3D; {};
            const findMeshes &#x3D; (
              node: Object3D,
              parentMatrix: Matrix4,
              depth: number,
            ) &#x3D;&gt; {
              const mat &#x3D; parentMatrix.clone().multiply(node.matrix);
              if (node instanceof Mesh) {
                const key &#x3D; ((node as Mesh).material as any).id; // ts don&#x27;t recognize material and prevent compilation...
                if (!materials[key])
                  materials[key] &#x3D; {
                    material: (node as Mesh).material as Material, // Can be Material[], but not sure this is ever still used.
                    geoms: [],
                    renderOrder: -depth,
                  };

                materials[key].geoms.push(
                  (node as Mesh).geometry.clone().applyMatrix4(mat),
                );
              }

              for (const obj of node.children) {
                findMeshes(obj, mat, depth + 1);
              }
            };

            findMeshes(scene, new Matrix4(), 0);

            // Improve renderorder for transparent materials
            scene.remove(...scene.children);
            for (const val of Object.values(materials)) {
              const mesh &#x3D; new Mesh(
                BufferGeometryUtils.mergeGeometries((val as any).geoms),
                (val as any).material,
              );
              mesh.renderOrder &#x3D; (val as any).renderOrder;
              scene.add(mesh);
            }

            this.processGeometry(
              scene,
              name ?? sceneName?.name,
              scale,
              true, // doublesided
            );

            allGeometries.push({
              object: scene,
              menuNodeName: menuNodeName ?? sceneName?.menuNodeName,
            });
          }
          resolve(allGeometries);
        },
        (error) &#x3D;&gt; {
          reject(error);
        },
      );
    });
  }

  /** Parses and loads a geometry in GLTF (.gltf,.glb) format.
   * Also supports zip versions of those
   * @param fileName of the geometry file (.gltf,.glb or a zip with such file(s))
   * @returns Promise for loading the geometry.
   */
  public parseGLTFGeometry(file: File): Promise&lt;GeometryUIParameters[]&gt; {
    return this.zipHandlingFileWrapper(
      file,
      (data: ArrayBuffer, path: string, name: string) &#x3D;&gt; {
        return this.parseGLTFGeometryFromArrayBuffer(data, path, name);
      },
    );
  }

  /** Parses and loads a geometry in GLTF (.gltf) format.
   * @param geometry ArrayBuffer containing the geometry file&#x27;s content (gltf or glb data)
   * @param path The base path from which to find subsequent glTF resources such as textures and .bin data files
   * @param name Name given to the geometry.
   * @returns Promise for loading the geometry.
   */
  private parseGLTFGeometryFromArrayBuffer(
    geometry: ArrayBuffer,
    path: string,
    name: string,
  ): Promise&lt;GeometryUIParameters[]&gt; {
    const loader &#x3D; new GLTFLoader();
    const dracoLoader &#x3D; new DRACOLoader();
    dracoLoader.setDecoderPath(
      &#x60;https://cdn.jsdelivr.net/npm/three@0.${REVISION}.0/examples/jsm/libs/draco/&#x60;,
    );
    loader.setDRACOLoader(dracoLoader);
    return new Promise&lt;GeometryUIParameters[]&gt;((resolve, reject) &#x3D;&gt; {
      loader.parse(
        geometry,
        path,
        (gltf) &#x3D;&gt; {
          const allGeometriesUIParameters: GeometryUIParameters[] &#x3D; [];

          for (const scene of gltf.scenes) {
            scene.visible &#x3D; scene.userData.visible;
            console.log(&#x27;Dealing with scene &#x27;, scene.name);
            const sceneName &#x3D; this.processGLTFSceneName(scene.name);
            this.processGeometry(scene, sceneName?.name ?? name);

            allGeometriesUIParameters.push({
              object: scene,
              menuNodeName: sceneName?.menuNodeName,
            });
          }

          resolve(allGeometriesUIParameters);
        },
        (error) &#x3D;&gt; {
          reject(error);
        },
      );
    });
  }

  /**
   * Get geometry name and menuNodeName from GLTF scene name.
   * @param sceneName GLTF scene name.
   * @param menuNodeName Path to the node in Phoenix menu to add the geometry to. Use &#x60;&gt;&#x60; as a separator.
   * @returns Geometry name and menuNodeName if present in scene name.
   */
  private processGLTFSceneName(sceneName?: string, menuNodeName?: string) {
    if (sceneName) {
      const nodes &#x3D; sceneName.split(&#x27;_&gt;_&#x27;);
      menuNodeName &amp;&amp; nodes.unshift(menuNodeName); // eslint-disable-line
      const fullNodeName &#x3D; nodes.join(&#x27; &gt; &#x27;);
      nodes.pop();
      const menuName &#x3D; nodes.join(&#x27; &gt; &#x27;);

      return { name: fullNodeName, menuNodeName: menuName };
    }
  }

  /**
   * Loads geometries from JSON.
   * @param json JSON or URL to JSON file of the geometry.
   * @param name Name of the geometry or group of geometries.
   * @param scale Scale of the geometry.
   * @param doubleSided Renders both sides of the material.
   * @returns Promise for loading the geometry.
   */
  public loadJSONGeometry(
    json: string | { [key: string]: any },
    name: string,
    scale?: number,
    doubleSided?: boolean,
  ): Promise&lt;GeometryUIParameters&gt; {
    const loader &#x3D; new ObjectLoader();

    switch (typeof json) {
      case &#x27;string&#x27;:
        return new Promise&lt;GeometryUIParameters&gt;((resolve, reject) &#x3D;&gt; {
          loader.load(
            json,
            (object: Object3D) &#x3D;&gt; {
              this.processGeometry(object, name, scale, doubleSided);
              resolve({ object });
            },
            undefined,
            (error) &#x3D;&gt; {
              reject(error);
            },
          );
        });
      case &#x27;object&#x27;:
        return new Promise&lt;GeometryUIParameters&gt;((resolve) &#x3D;&gt; {
          const object &#x3D; loader.parse(json);
          this.processGeometry(object, name, scale, doubleSided);
          resolve({ object });
        });
    }
  }

  /**
   * Process the geometry by setting up material and clipping attributes.
   * @param geometry Geometry to be processed.
   * @param name Name of the geometry.
   * @param scale Scale of the geometry.
   * @param doubleSided Renders both sides of the material.
   * @param transparent Whether the transparent property of geometry is true or false. Default &#x60;false&#x60;.
   */
  private processGeometry(
    geometry: Object3D,
    name: string,
    scale?: number,
    doubleSided?: boolean,
  ) {
    geometry.name &#x3D; name;
    // Set a custom scale if provided
    if (scale) {
      geometry.scale.setScalar(scale);
    }
    geometry.traverse((child) &#x3D;&gt; {
      if (child instanceof Mesh) {
        child.name &#x3D; child.userData.name &#x3D; name;
        child.userData.size &#x3D; this.getObjectSize(child);
        if (child.material instanceof Material) {
          const mat &#x3D; child.material as Material;
          const color &#x3D;
            &#x27;color&#x27; in mat ? (mat.color as Color).getHex() : 0x2fd691;
          const side &#x3D; doubleSided ? DoubleSide : child.material[&#x27;side&#x27;];

          // Disposing of the default material
          child.material.dispose();

          // Should tranparency be used?
          let isTransparent &#x3D; false;
          if (geometry.userData.opacity) {
            isTransparent &#x3D; true;
          }

          // Changing to a material with 0 shininess
          child.material &#x3D; new MeshPhongMaterial({
            color,
            shininess: 0,
            side: side,
            transparent: isTransparent,
            opacity: geometry.userData.opacity ?? 1,
          });

          // Setting up the clipping planes
          child.material.clippingPlanes &#x3D; this.clipPlanes;
          child.material.clipIntersection &#x3D; true;
          child.material.clipShadows &#x3D; false;
        }
      }
    });
  }

  /**
   * Get the size of object.
   * @param object Object to get the size of.
   * @returns The size (vector) of object as a string.
   */
  private getObjectSize(object: Mesh): string {
    const size &#x3D; new Vector3();
    object.geometry.computeBoundingBox();
    object.geometry?.boundingBox?.getSize(size);
    return JSON.stringify(size, null, 2);
  }
}
</code></pre>
    </div>
</div>









                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'ImportManager.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
