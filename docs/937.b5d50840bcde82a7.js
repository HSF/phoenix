(self.webpackChunkphoenix_app=self.webpackChunkphoenix_app||[]).push([[937],{7328:()=>{},8724:()=>{},6056:()=>{},1899:()=>{},2937:(Te,kt,X)=>{"use strict";X.r(kt),X.d(kt,{svg2pdf:()=>Xt});var Mt=X(7328),$t=X(8724),K=X(2734),qt=X(1899),Qt=X(6056),Tt=function(i,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])})(i,e)};function x(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}Tt(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var ht=function(){return(ht=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}).apply(this,arguments)};function S(i,e,t,r){return new(t||(t=Promise))(function(n,a){function s(f){try{u(r.next(f))}catch(l){a(l)}}function o(f){try{u(r.throw(f))}catch(l){a(l)}}function u(f){var l;f.done?n(f.value):(l=f.value,l instanceof t?l:new t(function(h){h(l)})).then(s,o)}u((r=r.apply(i,e||[])).next())})}function w(i,e){var t,r,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(f){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){s.label=l[1];break}if(6===l[0]&&s.label<n[1]){s.label=n[1],n=l;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(l);break}n[2]&&s.ops.pop(),s.trys.pop();continue}l=e.call(i,s)}catch(h){l=[6,h],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,f])}}}var O=function(){function i(e){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,e){for(var t in"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)e==t&&(e=this.simpleColors[t]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}];for(var r=0;r<this.colorDefs.length;r++){var a=this.colorDefs[r].process,s=this.colorDefs[r].re.exec(e);if(s){var o=a(s);this.r=o[0],this.g=o[1],this.b=o[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return i.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},i.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},i.prototype.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r},i.prototype.getHelpXML=function(){for(var e=[],t=0;t<this.colorDefs.length;t++)for(var r=this.colorDefs[t].example,n=0;n<r.length;n++)e[e.length]=r[n];for(var a in this.simpleColors)e[e.length]=a;var s=document.createElement("ul");for(s.setAttribute("id","rgbcolor-examples"),t=0;t<e.length;t++)try{var o=document.createElement("li"),u=new i(e[t]),f=document.createElement("div");f.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),f.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+e[t]+" -> "+u.toRGB()+" -> "+u.toHex());o.appendChild(f),o.appendChild(l),s.appendChild(o)}catch{}return s},i}(),P=function(){function i(e){this.color=e}return i.prototype.getFillData=function(e,t){return S(this,void 0,void 0,function(){return w(this,function(r){return[2,void 0]})})},i}(),Jt=function(){function i(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return i.prototype.clone=function(){var e=new i;return e.xmlSpace=this.xmlSpace,e.fill=this.fill,e.fillOpacity=this.fillOpacity,e.fontFamily=this.fontFamily,e.fontSize=this.fontSize,e.fontStyle=this.fontStyle,e.fontWeight=this.fontWeight,e.opacity=this.opacity,e.stroke=this.stroke,e.strokeDasharray=this.strokeDasharray,e.strokeDashoffset=this.strokeDashoffset,e.strokeLinecap=this.strokeLinecap,e.strokeLinejoin=this.strokeLinejoin,e.strokeMiterlimit=this.strokeMiterlimit,e.strokeOpacity=this.strokeOpacity,e.strokeWidth=this.strokeWidth,e.textAnchor=this.textAnchor,e.alignmentBaseline=this.alignmentBaseline,e.visibility=this.visibility,e.color=this.color,e},i.default=function(){var e=new i;return e.xmlSpace="default",e.fill=new P(new O("rgb(0, 0, 0)")),e.fillOpacity=1,e.fontFamily="times",e.fontSize=16,e.fontStyle="normal",e.fontWeight="normal",e.opacity=1,e.stroke=null,e.strokeDasharray=null,e.strokeDashoffset=0,e.strokeLinecap="butt",e.strokeLinejoin="miter",e.strokeMiterlimit=4,e.strokeOpacity=1,e.strokeWidth=1,e.alignmentBaseline="baseline",e.textAnchor="start",e.visibility="visible",e.color=new O("rgb(0, 0, 0)"),e},i}(),W=function(){function i(e,t){var r,n,a;this.pdf=e,this.svg2pdfParameters=t.svg2pdfParameters,this.attributeState=t.attributeState?t.attributeState.clone():Jt.default(),this.viewport=t.viewport,this.refsHandler=t.refsHandler,this.styleSheets=t.styleSheets,this.textMeasure=t.textMeasure,this.transform=null!==(r=t.transform)&&void 0!==r?r:this.pdf.unitMatrix,this.withinClipPath=null!==(n=t.withinClipPath)&&void 0!==n&&n,this.withinUse=null!==(a=t.withinUse)&&void 0!==a&&a}return i.prototype.clone=function(e){var t,r,n,a;return void 0===e&&(e={}),new i(this.pdf,{svg2pdfParameters:this.svg2pdfParameters,attributeState:e.attributeState?e.attributeState.clone():this.attributeState.clone(),viewport:null!==(t=e.viewport)&&void 0!==t?t:this.viewport,refsHandler:this.refsHandler,styleSheets:this.styleSheets,textMeasure:this.textMeasure,transform:null!==(r=e.transform)&&void 0!==r?r:this.transform,withinClipPath:null!==(n=e.withinClipPath)&&void 0!==n?n:this.withinClipPath,withinUse:null!==(a=e.withinUse)&&void 0!==a?a:this.withinUse})},i}(),Ct=function(){function i(e){this.renderedElements={},this.idMap=e,this.idPrefix=String(i.instanceCounter++)}return i.prototype.getRendered=function(e,t,r){return S(this,void 0,void 0,function(){var n,a;return w(this,function(s){switch(s.label){case 0:return n=this.generateKey(e,t),this.renderedElements.hasOwnProperty(n)?[2,this.renderedElements[e]]:(a=this.get(e),this.renderedElements[n]=a,[4,r(a)]);case 1:return s.sent(),[2,a]}})})},i.prototype.get=function(e){return this.idMap[Mt(e,{isIdentifier:!0})]},i.prototype.generateKey=function(e,t){return this.idPrefix+"|"+e+"|"+(t||new O("rgb(0,0,0)")).toRGBA()},i.instanceCounter=0,i}();function Ft(i,e){return Math.atan2(e[1]-i[1],e[0]-i[0])}function Pt(i,e){return[2/3*(e[0]-i[0])+i[0],2/3*(e[1]-i[1])+i[1]]}function tt(i){var e=Math.sqrt(i[0]*i[0]+i[1]*i[1]);return[i[0]/e,i[1]/e]}function q(i,e){return tt([e[0]-i[0],e[1]-i[1]])}function nt(i,e){return[i[0]+e[0],i[1]+e[1]]}function ft(i,e){var t=i[0],r=i[1];return[e.a*t+e.c*r+e.e,e.b*t+e.d*r+e.f]}var Q=function(){function i(){this.segments=[]}return i.prototype.moveTo=function(e,t){return this.segments.push(new C(e,t)),this},i.prototype.lineTo=function(e,t){return this.segments.push(new H(e,t)),this},i.prototype.curveTo=function(e,t,r,n,a,s){return this.segments.push(new E(e,t,r,n,a,s)),this},i.prototype.close=function(){return this.segments.push(new ct),this},i.prototype.transform=function(e){this.segments.forEach(function(t){if(t instanceof C||t instanceof H||t instanceof E){var r=ft([t.x,t.y],e);t.x=r[0],t.y=r[1]}if(t instanceof E){var n=ft([t.x1,t.y1],e),a=ft([t.x2,t.y2],e);t.x1=n[0],t.y1=n[1],t.x2=a[0],t.y2=a[1]}})},i.prototype.draw=function(e){var t=e.pdf;this.segments.forEach(function(r){r instanceof C?t.moveTo(r.x,r.y):r instanceof H?t.lineTo(r.x,r.y):r instanceof E?t.curveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):t.close()})},i}(),C=function(i,e){this.x=i,this.y=e},H=function(i,e){this.x=i,this.y=e},E=function(i,e,t,r,n,a){this.x1=i,this.y1=e,this.x2=t,this.y2=r,this.x=n,this.y=a},ct=function(){};function V(i,e){return e.split(",").indexOf((i.nodeName||i.tagName).toLowerCase())>=0}function c(i,e,t,r){var n;return void 0===r&&(r=t),(null===(n=i.style)||void 0===n?void 0:n.getPropertyValue(r))||e.getPropertyValue(i,r)||i.hasAttribute(t)&&i.getAttribute(t)||void 0}function D(i,e,t){if("none"===c(i.element,t.styleSheets,"display"))return!1;var r=e,n=c(i.element,t.styleSheets,"visibility");return n&&(r="hidden"!==n),r}function G(i,e,t){var r=D(i,e,t);return 0!==i.element.childNodes.length&&(i.children.forEach(function(n){n.isVisible(r,t)&&(r=!0)}),r)}var Zt=function(){function i(){this.markers=[]}return i.prototype.addMarker=function(e){this.markers.push(e)},i.prototype.draw=function(e){return S(this,void 0,void 0,function(){var t,r,n,a,s,o,u;return w(this,function(f){switch(f.label){case 0:t=0,f.label=1;case 1:return t<this.markers.length?(n=void 0,a=(r=this.markers[t]).angle,s=r.anchor,o=Math.cos(a),u=Math.sin(a),n=e.pdf.Matrix(o,u,-u,o,s[0],s[1]),n=e.pdf.matrixMult(e.pdf.Matrix(e.attributeState.strokeWidth,0,0,e.attributeState.strokeWidth,0,0),n),n=e.pdf.matrixMult(n,e.transform),e.pdf.saveGraphicsState(),[4,e.refsHandler.getRendered(r.id,null,function(l){return l.apply(e)})]):[3,4];case 2:f.sent(),e.pdf.doFormObject(r.id,n),e.pdf.restoreGraphicsState(),f.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},i}(),j=function(i,e,t){this.id=i,this.anchor=e,this.angle=t},pt=/url\(["']?#([^"']+)["']?\)/,te={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"};function I(i,e){var t;return(t=i&&i.toString().match(/^([\-0-9.]+)em$/))?parseFloat(t[1])*e:(t=i&&i.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(t[1]):0}function At(i){return te[i]||"alphabetic"}function B(i){for(var e,t=[],r=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;e=r.exec(i);)t.push(parseFloat(e[0]));return t}function J(i,e){if("transparent"===i){var t=new O("rgb(0,0,0)");return t.a=0,t}if("currentcolor"===i.toLowerCase())return e||new O("rgb(0,0,0)");var r=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(i);if(r){var n=B(r[1]),a=new O("rgb("+n.slice(0,3).join(",")+")");return a.a=n[3],a}return new O(i)}var dt,R={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},ee=(dt=K.default.version.split("."),2===parseFloat(dt[0])&&3===parseFloat(dt[1]));function Bt(i,e){return ee?400==e?"italic"==i?"italic":"normal":700==e&&"italic"!==i?"bold":i+""+e:400==e||"normal"===e?"italic"===i?"italic":"normal":700!=e&&"bold"!==e||"normal"!==i?(700==e?"bold":e)+""+i:"bold"}function mt(i,e){if("none"===c(e.element,i.styleSheets,"display"))return[0,0,0,0];var t=[0,0,0,0];return e.children.forEach(function(r){var n=r.getBoundingBox(i);t=[Math.min(t[0],n[0]),Math.min(t[1],n[1]),Math.max(t[0]+t[2],n[0]+n[2])-Math.min(t[0],n[0]),Math.max(t[1]+t[3],n[1]+n[3])-Math.min(t[1],n[1])]}),t}function et(i,e){var t=parseFloat,r=t(i.getAttribute("x1"))||t(c(i,e.styleSheets,"x"))||t(c(i,e.styleSheets,"cx"))-t(c(i,e.styleSheets,"r"))||0,n=t(i.getAttribute("x2"))||r+t(c(i,e.styleSheets,"width"))||t(c(i,e.styleSheets,"cx"))+t(c(i,e.styleSheets,"r"))||0,a=t(i.getAttribute("y1"))||t(c(i,e.styleSheets,"y"))||t(c(i,e.styleSheets,"cy"))-t(c(i,e.styleSheets,"r"))||0,s=t(i.getAttribute("y2"))||a+t(c(i,e.styleSheets,"height"))||t(c(i,e.styleSheets,"cy"))+t(c(i,e.styleSheets,"r"))||0;return[Math.min(r,n),Math.min(a,s),Math.max(r,n)-Math.min(r,n),Math.max(a,s)-Math.min(a,s)]}function at(i,e,t,r,n,a,s,o){void 0===o&&(o=!1);var u,f,l=e[0],h=e[1],g=e[2],m=e[3],y=n/g,d=a/m,b=i.getAttribute("preserveAspectRatio");if(b){var p=b.split(" ");"defer"===p[0]&&(p=p.slice(1)),u=p[0],f=p[1]||"meet"}else u="xMidYMid",f="meet";if("none"!==u&&("meet"===f?y=d=Math.min(y,d):"slice"===f&&(y=d=Math.max(y,d))),o)return s.pdf.Matrix(y,0,0,d,0,0);var k=t-l*y,M=r-h*d;u.indexOf("xMid")>=0?k+=(n-g*y)/2:u.indexOf("xMax")>=0&&(k+=n-g*y),u.indexOf("YMid")>=0?M+=(a-m*d)/2:u.indexOf("YMax")>=0&&(M+=a-m*d);var F=s.pdf.Matrix(1,0,0,1,k,M),v=s.pdf.Matrix(y,0,0,d,0,0);return s.pdf.matrixMult(v,F)}function st(i,e){if(!i||"none"===i)return e.pdf.unitMatrix;for(var t,r,n=/^[\s,]*matrix\(([^)]+)\)\s*/,a=/^[\s,]*translate\(([^)]+)\)\s*/,s=/^[\s,]*rotate\(([^)]+)\)\s*/,o=/^[\s,]*scale\(([^)]+)\)\s*/,u=/^[\s,]*skewX\(([^)]+)\)\s*/,f=/^[\s,]*skewY\(([^)]+)\)\s*/,l=e.pdf.unitMatrix;i.length>0&&i.length!==r;){r=i.length;var h=n.exec(i);if(h&&(t=B(h[1]),l=e.pdf.matrixMult(e.pdf.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]),l),i=i.substr(h[0].length)),h=s.exec(i)){t=B(h[1]);var g=Math.PI*t[0]/180;if(l=e.pdf.matrixMult(e.pdf.Matrix(Math.cos(g),Math.sin(g),-Math.sin(g),Math.cos(g),0,0),l),t[1]||t[2]){var m=e.pdf.Matrix(1,0,0,1,t[1],t[2]),y=e.pdf.Matrix(1,0,0,1,-t[1],-t[2]);l=e.pdf.matrixMult(y,e.pdf.matrixMult(l,m))}i=i.substr(h[0].length)}(h=a.exec(i))&&(t=B(h[1]),l=e.pdf.matrixMult(e.pdf.Matrix(1,0,0,1,t[0],t[1]||0),l),i=i.substr(h[0].length)),(h=o.exec(i))&&((t=B(h[1]))[1]||(t[1]=t[0]),l=e.pdf.matrixMult(e.pdf.Matrix(t[0],0,0,t[1],0,0),l),i=i.substr(h[0].length)),(h=u.exec(i))&&(t=parseFloat(h[1]),t*=Math.PI/180,l=e.pdf.matrixMult(e.pdf.Matrix(1,0,Math.tan(t),1,0,0),l),i=i.substr(h[0].length)),(h=f.exec(i))&&(t=parseFloat(h[1]),t*=Math.PI/180,l=e.pdf.matrixMult(e.pdf.Matrix(1,Math.tan(t),0,1,0,0),l),i=i.substr(h[0].length))}return l}var gt=function(){function i(e,t){this.element=e,this.children=t,this.parent=null}return i.prototype.setParent=function(e){this.parent=e},i.prototype.getParent=function(){return this.parent},i.prototype.getBoundingBox=function(e){return"none"===c(this.element,e.styleSheets,"display")?[0,0,0,0]:this.getBoundingBoxCore(e)},i.prototype.computeNodeTransform=function(e){var t=this.computeNodeTransformCore(e),r=c(this.element,e.styleSheets,"transform");return r?e.pdf.matrixMult(t,st(r,e)):t},i}(),rt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.render=function(t){return Promise.resolve()},e.prototype.getBoundingBoxCore=function(t){return[]},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e}(gt),Nt=function(i){function e(t,r,n){var a=i.call(this,r,n)||this;return a.pdfGradientType=t,a.contextColor=void 0,a}return x(e,i),e.prototype.apply=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o,u;return w(this,function(f){return(r=this.element.getAttribute("id"))?(n=this.getStops(t.styleSheets),a=0,s=!1,n.forEach(function(l){var h=l.opacity;h&&1!==h&&(a+=h,s=!0)}),s&&(o=new K.GState({opacity:a/n.length})),u=new K.ShadingPattern(this.pdfGradientType,this.getCoordinates(),n,o),t.pdf.addShadingPattern(r,u),[2]):[2]})})},e.prototype.getStops=function(t){var r=this;if(this.stops)return this.stops;if(void 0===this.contextColor){this.contextColor=null;for(var n=this;n;){var a=c(n.element,t,"color");if(a){this.contextColor=J(a,null);break}n=n.getParent()}}var s=[];return this.children.forEach(function(o){if("stop"===o.element.tagName.toLowerCase()){var u=c(o.element,t,"color"),f=J(c(o.element,t,"stop-color")||"",u?J(u,null):r.contextColor),l=parseFloat(c(o.element,t,"stop-opacity")||"1");s.push({offset:e.parseGradientOffset(o.element.getAttribute("offset")||"0"),color:[f.r,f.g,f.b],opacity:l})}}),this.stops=s},e.prototype.getBoundingBoxCore=function(t){return et(this.element,t)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return G(this,t,r)},e.parseGradientOffset=function(t){var r=parseFloat(t);return!isNaN(r)&&t.indexOf("%")>=0?r/100:r},e}(rt),Ot=function(i){function e(t,r){return i.call(this,"axial",t,r)||this}return x(e,i),e.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},e}(Nt),Et=function(i){function e(t,r){return i.call(this,"radial",t,r)||this}return x(e,i),e.prototype.getCoordinates=function(){var t=this.element.getAttribute("cx"),r=this.element.getAttribute("cy"),n=this.element.getAttribute("fx"),a=this.element.getAttribute("fy");return[parseFloat(n||t||"0.5"),parseFloat(a||r||"0.5"),0,parseFloat(t||"0.5"),parseFloat(r||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},e}(Nt),re=function(){function i(e,t){this.key=e,this.gradient=t}return i.prototype.getFillData=function(e,t){return S(this,void 0,void 0,function(){var r,n,a;return w(this,function(s){switch(s.label){case 0:return[4,t.refsHandler.getRendered(this.key,null,function(o){return o.apply(new W(t.pdf,{refsHandler:t.refsHandler,textMeasure:t.textMeasure,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters}))})];case 1:return s.sent(),this.gradient.element.hasAttribute("gradientUnits")&&"objectboundingbox"!==this.gradient.element.getAttribute("gradientUnits").toLowerCase()?r=t.pdf.unitMatrix:(n=e.getBoundingBox(t),r=t.pdf.Matrix(n[2],0,0,n[3],n[0],n[1])),a=st(c(this.gradient.element,t.styleSheets,"gradientTransform","transform"),t),[2,{key:this.key,matrix:t.pdf.matrixMult(a,r)}]}})})},i}(),Lt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.apply=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o;return w(this,function(u){switch(u.label){case 0:if(!(r=this.element.getAttribute("id")))return[2];n=this.getBoundingBox(t),a=new K.TilingPattern([n[0],n[1],n[0]+n[2],n[1]+n[3]],n[2],n[3]),t.pdf.beginTilingPattern(a),s=0,o=this.children,u.label=1;case 1:return s<o.length?[4,o[s].render(new W(t.pdf,{attributeState:t.attributeState,refsHandler:t.refsHandler,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure}))]:[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return t.pdf.endTilingPattern(r,a),[2]}})})},e.prototype.getBoundingBoxCore=function(t){return et(this.element,t)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return G(this,t,r)},e}(rt),ie=function(){function i(e,t){this.key=e,this.pattern=t}return i.prototype.getFillData=function(e,t){return S(this,void 0,void 0,function(){var r,n,a,s,o,u,f,l,h,g,m,y;return w(this,function(d){switch(d.label){case 0:return[4,t.refsHandler.getRendered(this.key,null,function(b){return b.apply(new W(t.pdf,{refsHandler:t.refsHandler,textMeasure:t.textMeasure,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters}))})];case 1:return d.sent(),r={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},a=t.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&"objectboundingbox"!==this.pattern.element.getAttribute("patternUnits").toLowerCase()||(n=e.getBoundingBox(t),a=t.pdf.Matrix(1,0,0,1,n[0],n[1]),o=this.pattern.getBoundingBox(t),r.boundingBox=[u=o[0]*n[0]||0,f=o[1]*n[1]||0,u+(l=o[2]*n[2]||0),f+(h=o[3]*n[3]||0)],r.xStep=l,r.yStep=h),s=t.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&"objectboundingbox"===this.pattern.element.getAttribute("patternContentUnits").toLowerCase()&&(n||(n=e.getBoundingBox(t)),s=t.pdf.Matrix(n[2],0,0,n[3],0,0),o=r.boundingBox||this.pattern.getBoundingBox(t),r.boundingBox=[u=o[0]/n[0]||0,f=o[1]/n[1]||0,u+(l=o[2]/n[2]||0),f+(h=o[3]/n[3]||0)],r.xStep=l,r.yStep=h),g=t.pdf.unitMatrix,(m=c(this.pattern.element,t.styleSheets,"patternTransform","transform"))&&(g=st(m,t)),y=t.pdf.matrixMult(y=s,a),y=t.pdf.matrixMult(y,g),y=t.pdf.matrixMult(y,t.transform),r.matrix=y,[2,r]}})})},i}();function yt(i,e,t){var r=t||e.element,n=c(r,i.styleSheets,"color");if(n){var a=J(n,i.attributeState.color);i.attributeState.color=a.ok?a:new O("rgb(0,0,0)")}var s=c(r,i.styleSheets,"visibility");s&&(i.attributeState.visibility=s);var o=c(r,i.styleSheets,"fill");o&&(i.attributeState.fill=function ne(i,e){var t=pt.exec(i);if(t){var r=t[1],n=e.refsHandler.get(r);return n&&(n instanceof Ot||n instanceof Et)?function(s,o,u){var f=o.getStops(u.styleSheets);if(0===f.length)return null;if(1===f.length){var l=f[0].color,h=new O;return h.ok=!0,h.r=l[0],h.g=l[1],h.b=l[2],h.a=f[0].opacity,new P(h)}return new re(s,o)}(r,n,e):n&&n instanceof Lt?new ie(r,n):new P(new O("rgb(0, 0, 0)"))}var a=J(i,e.attributeState.color);return a.ok?new P(a):null}(o,i));var u=c(r,i.styleSheets,"fill-opacity");u&&(i.attributeState.fillOpacity=parseFloat(u));var f=c(r,i.styleSheets,"stroke-opacity");f&&(i.attributeState.strokeOpacity=parseFloat(f));var l=c(r,i.styleSheets,"opacity");l&&(i.attributeState.opacity=parseFloat(l));var h=c(r,i.styleSheets,"stroke-width");void 0!==h&&""!==h&&(i.attributeState.strokeWidth=Math.abs(parseFloat(h)));var g=c(r,i.styleSheets,"stroke");if(g)if("none"===g)i.attributeState.stroke=null;else{var m=J(g,i.attributeState.color);m.ok&&(i.attributeState.stroke=new P(m))}var y=c(r,i.styleSheets,"stroke-linecap");y&&(i.attributeState.strokeLinecap=y);var d=c(r,i.styleSheets,"stroke-linejoin");d&&(i.attributeState.strokeLinejoin=d);var b=c(r,i.styleSheets,"stroke-dasharray");if(b){var p=parseInt(c(r,i.styleSheets,"stroke-dashoffset")||"0");i.attributeState.strokeDasharray=B(b),i.attributeState.strokeDashoffset=p}var k=c(r,i.styleSheets,"stroke-miterlimit");void 0!==k&&""!==k&&(i.attributeState.strokeMiterlimit=parseFloat(k));var M=r.getAttribute("xml:space");M&&(i.attributeState.xmlSpace=M);var F=c(r,i.styleSheets,"font-weight");F&&(i.attributeState.fontWeight=F);var v=c(r,i.styleSheets,"font-style");v&&(i.attributeState.fontStyle=v);var Y,$,wt,ke,Me,ut,T=c(r,i.styleSheets,"font-family");if(T){var N=$t.parse(T);i.attributeState.fontFamily=($=N,wt=i,ke=Bt((Y=i.attributeState).fontStyle,Y.fontWeight),Me=wt.pdf.getFontList(),ut="",$.some(function(Z){var Kt=Me[Z];return Kt&&Kt.indexOf(ke)>=0?(ut=Z,!0):(Z=Z.toLowerCase(),!!R.hasOwnProperty(Z)&&(ut=Z,!0))})||(ut="times"),ut)}var U=c(r,i.styleSheets,"font-size");if(U){var _=i.pdf.getFontSize();i.attributeState.fontSize=I(U,_)}var z=c(r,i.styleSheets,"vertical-align")||c(r,i.styleSheets,"alignment-baseline");if(z){var A=z.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);A&&(i.attributeState.alignmentBaseline=A[0])}var L=c(r,i.styleSheets,"text-anchor");L&&(i.attributeState.textAnchor=L)}function bt(i,e,t){var r=1,n=1;r*=i.attributeState.fillOpacity,r*=i.attributeState.opacity,i.attributeState.fill instanceof P&&void 0!==i.attributeState.fill.color.a&&(r*=i.attributeState.fill.color.a),n*=i.attributeState.strokeOpacity,n*=i.attributeState.opacity,i.attributeState.stroke instanceof P&&void 0!==i.attributeState.stroke.color.a&&(n*=i.attributeState.stroke.color.a);var a,s,o=r<1,u=n<1;if(V(t,"use")?(o=!0,u=!0,r*=i.attributeState.fill?1:0,n*=i.attributeState.stroke?1:0):i.withinUse&&(i.attributeState.fill!==e.attributeState.fill?(o=!0,r*=i.attributeState.fill?1:0):o&&!i.attributeState.fill&&(r=0),i.attributeState.stroke!==e.attributeState.stroke?(u=!0,n*=i.attributeState.stroke?1:0):u&&!i.attributeState.stroke&&(n=0)),o||u){var f={};o&&(f.opacity=r),u&&(f["stroke-opacity"]=n),i.pdf.setGState(new K.GState(f))}if(i.attributeState.fill&&i.attributeState.fill!==e.attributeState.fill&&i.attributeState.fill instanceof P&&i.attributeState.fill.color.ok&&!V(t,"text")&&i.pdf.setFillColor(i.attributeState.fill.color.r,i.attributeState.fill.color.g,i.attributeState.fill.color.b),i.attributeState.strokeWidth!==e.attributeState.strokeWidth&&i.pdf.setLineWidth(i.attributeState.strokeWidth),i.attributeState.stroke!==e.attributeState.stroke&&i.attributeState.stroke instanceof P&&i.pdf.setDrawColor(i.attributeState.stroke.color.r,i.attributeState.stroke.color.g,i.attributeState.stroke.color.b),i.attributeState.strokeLinecap!==e.attributeState.strokeLinecap&&i.pdf.setLineCap(i.attributeState.strokeLinecap),i.attributeState.strokeLinejoin!==e.attributeState.strokeLinejoin&&i.pdf.setLineJoin(i.attributeState.strokeLinejoin),i.attributeState.strokeDasharray===e.attributeState.strokeDasharray&&i.attributeState.strokeDashoffset===e.attributeState.strokeDashoffset||!i.attributeState.strokeDasharray||i.pdf.setLineDashPattern(i.attributeState.strokeDasharray,i.attributeState.strokeDashoffset),i.attributeState.strokeMiterlimit!==e.attributeState.strokeMiterlimit&&i.pdf.setLineMiterLimit(i.attributeState.strokeMiterlimit),i.attributeState.fontFamily!==e.attributeState.fontFamily&&(a=R.hasOwnProperty(i.attributeState.fontFamily)?R[i.attributeState.fontFamily]:i.attributeState.fontFamily),i.attributeState.fill&&i.attributeState.fill!==e.attributeState.fill&&i.attributeState.fill instanceof P&&i.attributeState.fill.color.ok){var l=i.attributeState.fill.color;i.pdf.setTextColor(l.r,l.g,l.b)}i.attributeState.fontWeight===e.attributeState.fontWeight&&i.attributeState.fontStyle===e.attributeState.fontStyle||(s=Bt(i.attributeState.fontStyle,i.attributeState.fontWeight)),void 0===a&&void 0===s||(void 0===a&&(a=R.hasOwnProperty(i.attributeState.fontFamily)?R[i.attributeState.fontFamily]:i.attributeState.fontFamily),i.pdf.setFont(a,s)),i.attributeState.fontSize!==e.attributeState.fontSize&&i.pdf.setFontSize(i.attributeState.fontSize*i.pdf.internal.scaleFactor)}function Dt(i,e,t){var r=pt.exec(i);if(r)return t.refsHandler.get(r[1])||void 0}function It(i,e,t){return S(this,void 0,void 0,function(){var r,n;return w(this,function(a){switch(a.label){case 0:return r=t.clone(),e.element.hasAttribute("clipPathUnits")&&"objectboundingbox"===e.element.getAttribute("clipPathUnits").toLowerCase()&&(n=i.getBoundingBox(t),r.transform=t.pdf.matrixMult(t.pdf.Matrix(n[2],0,0,n[3],n[0],n[1]),t.transform)),[4,e.apply(r)];case 1:return a.sent(),[2]}})})}var Rt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.render=function(t){return S(this,void 0,void 0,function(){var r,n,a,s;return w(this,function(o){switch(o.label){case 0:return this.isVisible("hidden"!==t.attributeState.visibility,t)?((r=t.clone()).transform=r.pdf.matrixMult(this.computeNodeTransform(r),t.transform),yt(r,this),n=c(this.element,r.styleSheets,"clip-path"),(a=n&&"none"!==n)?(s=Dt(n,0,r))?s.isVisible(!0,r)?(r.pdf.saveGraphicsState(),[4,It(this,s,r)]):[3,2]:[3,4]:[3,5]):[2];case 1:return o.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:a=!1,o.label=5;case 5:return r.withinClipPath||r.pdf.saveGraphicsState(),bt(r,t,this.element),[4,this.renderCore(r)];case 6:return o.sent(),r.withinClipPath||r.pdf.restoreGraphicsState(),a&&r.pdf.restoreGraphicsState(),[2]}})})},e}(gt),ot=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e}(Rt),it=function(i){function e(t,r,n){var a=i.call(this,r,n)||this;return a.cachedPath=null,a.hasMarkers=t,a}return x(e,i),e.prototype.renderCore=function(t){return S(this,void 0,void 0,function(){var r;return w(this,function(n){switch(n.label){case 0:return null===(r=this.getCachedPath(t))||0===r.segments.length?[2]:(t.withinClipPath?r.transform(t.transform):t.pdf.setCurrentTransformationMatrix(t.transform),r.draw(t),[4,this.fillOrStroke(t)]);case 1:return n.sent(),this.hasMarkers?[4,this.drawMarkers(t,r)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.getCachedPath=function(t){return this.cachedPath||(this.cachedPath=this.getPath(t))},e.prototype.drawMarkers=function(t,r){return S(this,void 0,void 0,function(){return w(this,function(n){switch(n.label){case 0:return[4,this.getMarkers(r,t).draw(t.clone({transform:t.pdf.unitMatrix}))];case 1:return n.sent(),[2]}})})},e.prototype.fillOrStroke=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o;return w(this,function(u){switch(u.label){case 0:return t.withinClipPath?[2]:(n=t.attributeState.stroke&&0!==t.attributeState.strokeWidth,(r=t.attributeState.fill)?[4,r.getFillData(this,t)]:[3,2]);case 1:return s=u.sent(),[3,3];case 2:s=void 0,u.label=3;case 3:return a=s,o="evenodd"===c(this.element,t.styleSheets,"fill-rule"),r&&n||t.withinUse?o?t.pdf.fillStrokeEvenOdd(a):t.pdf.fillStroke(a):r?o?t.pdf.fillEvenOdd(a):t.pdf.fill(a):n?t.pdf.stroke():t.pdf.discardPath(),[2]}})})},e.prototype.getBoundingBoxCore=function(t){var r=this.getCachedPath(t);if(!r)return[0,0,0,0];for(var n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,u=0,f=0,l=0;l<r.segments.length;l++){var h=r.segments[l];(h instanceof C||h instanceof H||h instanceof E)&&(u=h.x,f=h.y),h instanceof E?(n=Math.min(n,u,h.x1,h.x2,h.x),s=Math.max(s,u,h.x1,h.x2,h.x),a=Math.min(a,f,h.y1,h.y2,h.y),o=Math.max(o,f,h.y1,h.y2,h.y)):(n=Math.min(n,u),s=Math.max(s,u),a=Math.min(a,f),o=Math.max(o,f))}return[n,a,s-n,o-a]},e.prototype.getMarkers=function(t,r){var n=c(this.element,r.styleSheets,"marker-start"),a=c(this.element,r.styleSheets,"marker-mid"),s=c(this.element,r.styleSheets,"marker-end"),o=new Zt;if(n||a||s){s&&(s=vt(s)),n&&(n=vt(n)),a&&(a=vt(a));for(var u=t.segments,f=[1,0],l=void 0,h=!1,g=[1,0],m=!1,y=function(b){var p=u[b],k=n&&(1===b||!(u[b]instanceof C)&&u[b-1]instanceof C);k&&u.forEach(function(U,_){if(!m&&U instanceof ct&&_>b){var z=u[_-1];m=(z instanceof C||z instanceof H||z instanceof E)&&z}});var M=s&&(b===u.length-1||!(u[b]instanceof C)&&u[b+1]instanceof C),F=a&&b>0&&!(1===b&&u[b-1]instanceof C),v=u[b-1]||null;if(v instanceof C||v instanceof H||v instanceof E)if(p instanceof E)k&&o.addMarker(new j(n,[v.x,v.y],Ft(m?[m.x,m.y]:[v.x,v.y],[p.x1,p.y1]))),M&&o.addMarker(new j(s,[p.x,p.y],Ft([p.x2,p.y2],[p.x,p.y]))),F&&(l=q([v.x,v.y],[p.x1,p.y1]),l=v instanceof C?l:tt(nt(f,l)),o.addMarker(new j(a,[v.x,v.y],Math.atan2(l[1],l[0])))),f=q([p.x2,p.y2],[p.x,p.y]);else if(p instanceof C||p instanceof H){if(l=q([v.x,v.y],[p.x,p.y]),k){var T=m?q([m.x,m.y],[p.x,p.y]):l;o.addMarker(new j(n,[v.x,v.y],Math.atan2(T[1],T[0])))}M&&o.addMarker(new j(s,[p.x,p.y],Math.atan2(l[1],l[0]))),F&&(T=p instanceof C?f:v instanceof C?l:tt(nt(f,l)),o.addMarker(new j(a,[v.x,v.y],Math.atan2(T[1],T[0])))),f=l}else p instanceof ct&&(l=q([v.x,v.y],[h.x,h.y]),F&&(T=v instanceof C?l:tt(nt(f,l)),o.addMarker(new j(a,[v.x,v.y],Math.atan2(T[1],T[0])))),M&&(T=tt(nt(l,g)),o.addMarker(new j(s,[h.x,h.y],Math.atan2(T[1],T[0])))),f=l);else{h=p instanceof C&&p;var N=u[b+1];(N instanceof C||N instanceof H||N instanceof E)&&(g=q([h.x,h.y],[N.x,N.y]))}},d=0;d<u.length;d++)y(d)}return o},e}(ot);function vt(i){var e=pt.exec(i);return e&&e[1]||void 0}var ae=function(i){function e(t,r){return i.call(this,!0,t,r)||this}return x(e,i),e.prototype.getPath=function(t){if(t.withinClipPath||null===t.attributeState.stroke)return null;var r=parseFloat(this.element.getAttribute("x1")||"0"),n=parseFloat(this.element.getAttribute("y1")||"0"),a=parseFloat(this.element.getAttribute("x2")||"0"),s=parseFloat(this.element.getAttribute("y2")||"0");return r||a||n||s?(new Q).moveTo(r,n).lineTo(a,s):null},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return D(this,t,r)},e.prototype.fillOrStroke=function(t){return S(this,void 0,void 0,function(){return w(this,function(r){switch(r.label){case 0:return t.attributeState.fill=null,[4,i.prototype.fillOrStroke.call(this,t)];case 1:return r.sent(),[2]}})})},e}(it),Wt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.apply=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o;return w(this,function(u){switch(u.label){case 0:return this.isVisible("hidden"!==t.attributeState.visibility,t)?((r=t.clone()).transform=r.pdf.unitMatrix,yt(r,this),(n=c(this.element,r.styleSheets,"clip-path"))&&"none"!==n&&(a=Dt(n,0,r))?a.isVisible(!0,r)?[4,It(this,a,r)]:[3,2]:[3,3]):[2];case 1:return u.sent(),[3,3];case 2:return[2];case 3:bt(r,t,this.element),s=0,o=this.children,u.label=4;case 4:return s<o.length?[4,o[s].render(r)]:[3,7];case 5:u.sent(),u.label=6;case 6:return s++,[3,4];case 7:return[2]}})})},e.prototype.getBoundingBoxCore=function(t){return mt(t,this)},e.prototype.isVisible=function(t,r){return G(this,t,r)},e.prototype.computeNodeTransformCore=function(t){var r=parseFloat(c(this.element,t.styleSheets,"x")||"0"),n=parseFloat(c(this.element,t.styleSheets,"y")||"0"),a=this.element.getAttribute("viewBox");if(a){var s=B(a),o=parseFloat(c(this.element,t.styleSheets,"width")||c(this.element.ownerSVGElement,t.styleSheets,"width")||a[2]),u=parseFloat(c(this.element,t.styleSheets,"height")||c(this.element.ownerSVGElement,t.styleSheets,"height")||a[3]);return at(this.element,s,r,n,o,u,t)}return t.pdf.Matrix(1,0,0,1,r,n)},e}(rt),lt=function(i,e){this.width=i,this.height=e},se=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.renderCore=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o,u,f,l,h,g,m,y,d;return w(this,function(b){switch(b.label){case 0:return r=parseFloat,(n=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(a=n.substring(1),s=t.refsHandler.get(a),o=V(s.element,"symbol,svg")&&s.element.hasAttribute("viewBox"),u=r(c(this.element,t.styleSheets,"x")||"0"),f=r(c(this.element,t.styleSheets,"y")||"0"),l=void 0,h=void 0,o?(l=r(c(this.element,t.styleSheets,"width")||c(s.element,t.styleSheets,"width")||"0"),h=r(c(this.element,t.styleSheets,"height")||c(s.element,t.styleSheets,"height")||"0"),u+=r(c(s.element,t.styleSheets,"x")||"0"),f+=r(c(s.element,t.styleSheets,"y")||"0"),m=B(s.element.getAttribute("viewBox")),g=at(s.element,m,u,f,l,h,t)):g=t.pdf.Matrix(1,0,0,1,u,f),y=new W(t.pdf,{refsHandler:t.refsHandler,styleSheets:t.styleSheets,withinUse:!0,viewport:o?new lt(l,h):t.viewport,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure}),[4,t.refsHandler.getRendered(a,d=t.attributeState.color,function(p){return e.renderReferencedNode(p,a,d,y)})]):[2];case 1:return b.sent(),t.pdf.saveGraphicsState(),t.pdf.setCurrentTransformationMatrix(t.transform),o&&"visible"!==c(s.element,t.styleSheets,"overflow")&&(t.pdf.rect(u,f,l,h),t.pdf.clip().discardPath()),t.pdf.doFormObject(t.refsHandler.generateKey(a,d),g),t.pdf.restoreGraphicsState(),[2]}})})},e.renderReferencedNode=function(t,r,n,a){return S(this,void 0,void 0,function(){var s;return w(this,function(o){switch(o.label){case 0:return s=[(s=t.getBoundingBox(a))[0]-.5*s[2],s[1]-.5*s[3],2*s[2],2*s[3]],a.attributeState.color=n,a.pdf.beginFormObject(s[0],s[1],s[2],s[3],a.pdf.unitMatrix),t instanceof Wt?[4,t.apply(a)]:[3,2];case 1:return o.sent(),[3,4];case 2:return[4,t.render(a)];case 3:o.sent(),o.label=4;case 4:return a.pdf.endFormObject(a.refsHandler.generateKey(r,n)),[2]}})})},e.prototype.getBoundingBoxCore=function(t){return et(this.element,t)},e.prototype.isVisible=function(t,r){return D(this,t,r)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e}(ot),oe=function(i){function e(t,r){return i.call(this,!1,t,r)||this}return x(e,i),e.prototype.getPath=function(t){var r=parseFloat(c(this.element,t.styleSheets,"width")||"0"),n=parseFloat(c(this.element,t.styleSheets,"height")||"0");if(!isFinite(r)||r<=0||!isFinite(n)||n<=0)return null;var a=c(this.element,t.styleSheets,"rx"),s=c(this.element,t.styleSheets,"ry"),o=Math.min(parseFloat(a||s||"0"),.5*r),u=Math.min(parseFloat(s||a||"0"),.5*n),f=parseFloat(c(this.element,t.styleSheets,"x")||"0"),l=parseFloat(c(this.element,t.styleSheets,"y")||"0"),h=4/3*(Math.SQRT2-1);return 0===o&&0===u?(new Q).moveTo(f,l).lineTo(f+r,l).lineTo(f+r,l+n).lineTo(f,l+n).close():(new Q).moveTo(f+=o,l).lineTo(f+=r-2*o,l).curveTo(f+o*h,l,f+o,l+(u-u*h),f+=o,l+=u).lineTo(f,l+=n-2*u).curveTo(f,l+u*h,f-o*h,l+u,f-=o,l+=u).lineTo(f+=2*o-r,l).curveTo(f-o*h,l,f-o,l-u*h,f-=o,l-=u).lineTo(f,l+=2*u-n).curveTo(f,l-u*h,f+o*h,l-u,f+=o,l-=u).close()},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return D(this,t,r)},e}(it),Ht=function(i){function e(t,r){return i.call(this,!1,t,r)||this}return x(e,i),e.prototype.getPath=function(t){var r=this.getRx(t),n=this.getRy(t);if(!isFinite(r)||n<=0||!isFinite(n)||n<=0)return null;var a=parseFloat(c(this.element,t.styleSheets,"cx")||"0"),s=parseFloat(c(this.element,t.styleSheets,"cy")||"0"),o=4/3*(Math.SQRT2-1)*r,u=4/3*(Math.SQRT2-1)*n;return(new Q).moveTo(a+r,s).curveTo(a+r,s-u,a+o,s-n,a,s-n).curveTo(a-o,s-n,a-r,s-u,a-r,s).curveTo(a-r,s+u,a-o,s+n,a,s+n).curveTo(a+o,s+n,a+r,s+u,a+r,s)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return D(this,t,r)},e}(it),le=function(i){function e(t,r){return i.call(this,t,r)||this}return x(e,i),e.prototype.getRx=function(t){return parseFloat(c(this.element,t.styleSheets,"rx")||"0")},e.prototype.getRy=function(t){return parseFloat(c(this.element,t.styleSheets,"ry")||"0")},e}(Ht);function Vt(i){var e="invisible",t=i.stroke&&0!==i.strokeWidth,r=i.fill;return r&&t?e="fillThenStroke":r?e="fill":t&&(e="stroke"),e}function Gt(i){return i.replace(/[\n\r]/g,"")}function jt(i){return i.replace(/[\t]/g," ")}function Ut(i){return i.replace(/ +/g," ")}function _t(i,e,t){switch(c(i,t.styleSheets,"text-transform")){case"uppercase":return e.toUpperCase();case"lowercase":return e.toLowerCase();default:return e}}var xt=function(){function i(e,t,r,n){this.textNode=e,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=t,this.originX=r,this.originY=n,this.textMeasures=[]}return i.prototype.setX=function(e){this.originX=e},i.prototype.setY=function(e){this.originY=e},i.prototype.add=function(e,t,r){this.texts.push(t),this.textNodes.push(e),this.contexts.push(r)},i.prototype.rightTrimText=function(){for(var e=this.texts.length-1;e>=0;e--)if("default"===this.contexts[e].attributeState.xmlSpace&&(this.texts[e]=this.texts[e].replace(/\s+$/,"")),this.texts[e].match(/[^\s]/))return!1;return!0},i.prototype.measureText=function(e){for(var t=0;t<this.texts.length;t++)this.textMeasures.push({width:e.textMeasure.measureTextWidth(this.texts[t],this.contexts[t].attributeState),length:this.texts[t].length})},i.prototype.put=function(e,t){var r,n,a,s,o=[],u=[],f=[],l=this.originX,h=this.originY,g=l,m=l;for(r=0;r<this.textNodes.length;r++){n=this.textNodes[r],a=this.contexts[r],s=this.textMeasures[r]||{width:e.textMeasure.measureTextWidth(this.texts[r],this.contexts[r].attributeState),length:this.texts[r].length};var y=l,d=h;if("#text"!==n.nodeName&&!o.includes(n)){o.push(n);var b=i.resolveRelativePositionAttribute(n,"dx");null!==b&&(y+=I(b,a.attributeState.fontSize));var p=i.resolveRelativePositionAttribute(n,"dy");null!==p&&(d+=I(p,a.attributeState.fontSize))}u[r]=y,f[r]=d,l=y+s.width+s.length*t,h=d,g=Math.min(g,y),m=Math.max(m,l)}var k=0;switch(this.textAnchor){case"start":k=0;break;case"middle":k=(m-g)/2;break;case"end":k=m-g}for(r=0;r<this.textNodes.length;r++)if(a=this.contexts[r],"#text"===(n=this.textNodes[r]).nodeName||"hidden"!==a.attributeState.visibility){e.pdf.saveGraphicsState(),bt(a,e,n);var M=a.attributeState.alignmentBaseline,F=Vt(a.attributeState);e.pdf.text(this.texts[r],u[r]-k,f[r],{baseline:At(M),angle:e.transform,renderingMode:"fill"===F?void 0:F,charSpace:0===t?void 0:t}),e.pdf.restoreGraphicsState()}return[l,h]},i.resolveRelativePositionAttribute=function(e,t){for(var r,n=e;n&&V(n,"tspan");){if(n.hasAttribute(t))return n.getAttribute(t);if((null===(r=e.parentElement)||void 0===r?void 0:r.firstChild)!==e)break;n=n.parentElement}return null},i}(),ue=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.processTSpans=function(t,r,n,a,s,o){for(var u=n.pdf.getFontSize(),f=n.attributeState.xmlSpace,l=!0,h=!1,g=0;g<r.childNodes.length;g++){var m=r.childNodes[g];if(m.textContent){var y=m.textContent;if("#text"===m.nodeName){var d=Gt(y);d=jt(d),"default"===f&&(d=Ut(d),l&&d.match(/^\s/)&&(h=!0),d.match(/[^\s]/)&&(l=!1),o.prevText.match(/\s$/)&&(d=d.replace(/^\s+/,"")));var b=_t(r,d,n);s.add(r,b,n),o.prevText=y,o.prevContext=n}else if(!V(m,"title")&&V(m,"tspan")){var p=m,k=p.getAttribute("x");if(null!==k){var M=I(k,u);s=new xt(this,c(p,n.styleSheets,"text-anchor")||n.attributeState.textAnchor,M,0),a.push({type:"y",chunk:s})}var F=p.getAttribute("y");if(null!==F){var v=I(F,u);s=new xt(this,c(p,n.styleSheets,"text-anchor")||n.attributeState.textAnchor,0,v),a.push({type:"x",chunk:s})}var T=n.clone();yt(T,t,p),this.processTSpans(t,p,T,a,s,o)}}}return h},e.prototype.renderCore=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o,u,f,l,h,g,m,d,b,p,k,M,F,v,T,N,U,_;return w(this,function(z){if(t.pdf.saveGraphicsState(),r=0,n=0,a=1,s=t.pdf.getFontSize(),o=I(this.element.getAttribute("x"),s),u=I(this.element.getAttribute("y"),s),f=I(this.element.getAttribute("dx"),s),l=I(this.element.getAttribute("dy"),s),h=parseFloat(this.element.getAttribute("textLength")||"0"),g=t.attributeState.visibility,0===this.element.childElementCount)L=t.attributeState,A=jt(A=Gt(A=m=this.element.textContent||"")),"default"===L.xmlSpace&&(A=Ut(A=A.trim())),d=_t(this.element,A,t),r=t.textMeasure.getTextOffset(d,t.attributeState),h>0&&(b=t.textMeasure.measureTextWidth(d,t.attributeState),"default"===t.attributeState.xmlSpace&&m.match(/^\s/)&&(a=0),n=(h-b)/(d.length-a)||0),"visible"===g&&(p=t.attributeState.alignmentBaseline,k=Vt(t.attributeState),t.pdf.text(d,o+f-r,u+l,{baseline:At(p),angle:t.transform,renderingMode:"fill"===k?void 0:k,charSpace:0===n?void 0:n}));else{for(M=[],F=new xt(this,t.attributeState.textAnchor,o+f,u+l),M.push({type:"",chunk:F}),v=this.processTSpans(this,this.element,t,M,F,{prevText:" ",prevContext:t}),a=v?0:1,T=!0,N=M.length-1;N>=0;N--)T&&(T=M[N].chunk.rightTrimText());h>0&&(U=0,_=0,M.forEach(function(A){var L=A.chunk;L.measureText(t),L.textMeasures.forEach(function(Y){U+=Y.width,_+=Y.length})}),n=(h-U)/(_-a)),M.reduce(function(A,L){var Y=L.type,$=L.chunk;return"x"===Y?$.setX(A[0]):"y"===Y&&$.setY(A[1]),$.put(t,n)},[0,0])}var A,L;return t.pdf.restoreGraphicsState(),[2]})})},e.prototype.isVisible=function(t,r){return G(this,t,r)},e.prototype.getBoundingBoxCore=function(t){return et(this.element,t)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e}(ot),he=function(i){function e(t,r){return i.call(this,!0,t,r)||this}return x(e,i),e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return D(this,t,r)},e.prototype.getPath=function(t){var r,n,a=new qt(c(this.element,t.styleSheets,"d")||"").unshort().unarc().abs(),s=new Q;return a.iterate(function(o){switch(o[0]){case"M":s.moveTo(o[1],o[2]);break;case"L":s.lineTo(o[1],o[2]);break;case"H":s.lineTo(o[1],n);break;case"V":s.lineTo(r,o[1]);break;case"C":s.curveTo(o[1],o[2],o[3],o[4],o[5],o[6]);break;case"Q":var u=Pt([r,n],[o[1],o[2]]),f=Pt([o[3],o[4]],[o[1],o[2]]);s.curveTo(u[0],u[1],f[0],f[1],o[3],o[4]);break;case"Z":s.close()}switch(o[0]){case"M":case"L":r=o[1],n=o[2];break;case"H":r=o[1];break;case"V":n=o[1];break;case"C":r=o[5],n=o[6];break;case"Q":r=o[3],n=o[4]}}),s},e}(it),fe=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,((?:.|\s)*)$/i,ce=function(i){function e(t,r){var n=i.call(this,t,r)||this;return n.imageLoadingPromise=null,n.imageUrl=n.element.getAttribute("xlink:href")||n.element.getAttribute("href"),n.imageUrl&&(n.imageLoadingPromise=e.fetchImageData(n.imageUrl)),n}return x(e,i),e.prototype.renderCore=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o,u,f,l,h,g,m,y;return w(this,function(d){switch(d.label){case 0:return this.imageLoadingPromise?(t.pdf.setCurrentTransformationMatrix(t.transform),r=parseFloat(c(this.element,t.styleSheets,"width")||"0"),n=parseFloat(c(this.element,t.styleSheets,"height")||"0"),a=parseFloat(c(this.element,t.styleSheets,"x")||"0"),s=parseFloat(c(this.element,t.styleSheets,"y")||"0"),!isFinite(r)||r<=0||!isFinite(n)||n<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return o=d.sent(),u=o.data,0!==(f=o.format).indexOf("svg")?[3,3]:(l=new DOMParser,h=l.parseFromString(u,"image/svg+xml").firstElementChild,(!(g=this.element.getAttribute("preserveAspectRatio"))||g.indexOf("defer")<0||!h.getAttribute("preserveAspectRatio"))&&h.setAttribute("preserveAspectRatio",g||""),h.setAttribute("x",String(a)),h.setAttribute("y",String(s)),h.setAttribute("width",String(r)),h.setAttribute("height",String(n)),[4,St(h,m={}).render(new W(t.pdf,{refsHandler:new Ct(m),styleSheets:t.styleSheets,viewport:new lt(r,n),svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure}))]);case 2:return d.sent(),[2];case 3:y="data:image/"+f+";base64,"+btoa(u);try{t.pdf.addImage(y,"",a,s,r,n)}catch(b){"object"==typeof console&&console.warn&&console.warn("Could not load image "+this.imageUrl+". \n"+b)}d.label=4;case 4:return[2]}})})},e.prototype.getBoundingBoxCore=function(t){return et(this.element,t)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return D(this,t,r)},e.fetchImageData=function(t){return S(this,void 0,void 0,function(){var r,n,a,o;return w(this,function(u){switch(u.label){case 0:if(!(a=t.match(fe)))return[3,1];if("image"!==(o=a[2].split("/"))[0])throw new Error("Unsupported image URL: "+t);return n=o[1],r=a[5],"base64"===a[4]?(r=r.replace(/\s/g,""),r=atob(r)):r=decodeURIComponent(r),[3,3];case 1:return[4,e.fetchImage(t)];case 2:r=u.sent(),n=t.substring(t.lastIndexOf(".")+1),u.label=3;case 3:return[2,{data:r,format:n}]}})})},e.fetchImage=function(t){return new Promise(function(r,n){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=function(){if(200!==a.status)throw new Error("Error "+a.status+": Failed to load image '"+t+"'");for(var s=new Uint8Array(a.response),o="",u=0;u<s.length;u++)o+=String.fromCharCode(s[u]);r(o)},a.onerror=n,a.onabort=n,a.send(null)})},e.getMimeType=function(t){switch(t=t.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+t}},e}(ot),zt=function(i){function e(t,r,n){var a=i.call(this,!0,r,n)||this;return a.closed=t,a}return x(e,i),e.prototype.getPath=function(t){if(!this.element.hasAttribute("points")||""===this.element.getAttribute("points"))return null;var r=e.parsePointsString(this.element.getAttribute("points")),n=new Q;if(r.length<1)return n;n.moveTo(r[0][0],r[0][1]);for(var a=1;a<r.length;a++)n.lineTo(r[a][0],r[a][1]);return this.closed&&n.close(),n},e.prototype.isVisible=function(t,r){return D(this,t,r)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.parsePointsString=function(t){for(var r=B(t),n=[],a=0;a<r.length-1;a+=2)n.push([r[a],r[a+1]]);return n},e}(it),pe=function(i){function e(t,r){return i.call(this,!0,t,r)||this}return x(e,i),e}(zt),de=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.render=function(t){return Promise.resolve()},e.prototype.getBoundingBoxCore=function(t){return[0,0,0,0]},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e.prototype.isVisible=function(t,r){return D(this,t,r)},e}(gt),me=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.apply=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o;return w(this,function(u){switch(u.label){case 0:r=this.computeNodeTransform(t),n=this.getBoundingBox(t),t.pdf.beginFormObject(n[0],n[1],n[2],n[3],r),function(f){var l=f.attributeState,h=f.pdf,g=1,m=1;g*=l.fillOpacity,g*=l.opacity,l.fill instanceof P&&void 0!==l.fill.color.a&&(g*=l.fill.color.a),m*=l.strokeOpacity,m*=l.opacity,l.stroke instanceof P&&void 0!==l.stroke.color.a&&(m*=l.stroke.color.a);var y,d={};if(d.opacity=g,d["stroke-opacity"]=m,h.setGState(new K.GState(d)),l.fill&&l.fill instanceof P&&l.fill.color.ok?h.setFillColor(l.fill.color.r,l.fill.color.g,l.fill.color.b):h.setFillColor(0,0,0),h.setLineWidth(l.strokeWidth),l.stroke instanceof P?h.setDrawColor(l.stroke.color.r,l.stroke.color.g,l.stroke.color.b):h.setDrawColor(0,0,0),h.setLineCap(l.strokeLinecap),h.setLineJoin(l.strokeLinejoin),l.strokeDasharray?h.setLineDashPattern(l.strokeDasharray,l.strokeDashoffset):h.setLineDashPattern([],0),h.setLineMiterLimit(l.strokeMiterlimit),y=R.hasOwnProperty(l.fontFamily)?R[l.fontFamily]:l.fontFamily,l.fill&&l.fill instanceof P&&l.fill.color.ok){var b=l.fill.color;h.setTextColor(b.r,b.g,b.b)}else h.setTextColor(0,0,0);var p="";"bold"===l.fontWeight&&(p="bold"),"italic"===l.fontStyle&&(p+="italic"),""===p&&(p="normal"),void 0!==y||void 0!==p?(void 0===y&&(y=R.hasOwnProperty(l.fontFamily)?R[l.fontFamily]:l.fontFamily),h.setFont(y,p)):h.setFont("helvetica",p),h.setFontSize(l.fontSize*h.internal.scaleFactor)}(a=new W(t.pdf,{refsHandler:t.refsHandler,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure})),s=0,o=this.children,u.label=1;case 1:return s<o.length?[4,o[s].render(a)]:[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return t.pdf.endFormObject(this.element.getAttribute("id")),[2]}})})},e.prototype.getBoundingBoxCore=function(t){var r,n=this.element.getAttribute("viewBox");return n&&(r=B(n)),[r&&r[0]||0,r&&r[1]||0,r&&r[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),r&&r[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},e.prototype.computeNodeTransformCore=function(t){var r,n=parseFloat(this.element.getAttribute("refX")||"0"),a=parseFloat(this.element.getAttribute("refY")||"0"),s=this.element.getAttribute("viewBox");if(s){var o=B(s);r=at(this.element,o,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),t,!0),r=t.pdf.matrixMult(t.pdf.Matrix(1,0,0,1,-n,-a),r)}else r=t.pdf.Matrix(1,0,0,1,-n,-a);return r},e.prototype.isVisible=function(t,r){return G(this,t,r)},e}(rt),ge=function(i){function e(t,r){return i.call(this,t,r)||this}return x(e,i),e.prototype.getR=function(t){var r;return null!==(r=this.r)&&void 0!==r?r:this.r=parseFloat(c(this.element,t.styleSheets,"r")||"0")},e.prototype.getRx=function(t){return this.getR(t)},e.prototype.getRy=function(t){return this.getR(t)},e}(Ht),ye=function(i){function e(t,r){return i.call(this,!1,t,r)||this}return x(e,i),e}(zt),Yt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.renderCore=function(t){return S(this,void 0,void 0,function(){var r,n;return w(this,function(a){switch(a.label){case 0:r=0,n=this.children,a.label=1;case 1:return r<n.length?[4,n[r].render(t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.getBoundingBoxCore=function(t){return mt(t,this)},e}(Rt),be=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.isVisible=function(t,r){return G(this,t,r)},e.prototype.render=function(t){return S(this,void 0,void 0,function(){var r,n,a,s,o;return w(this,function(u){switch(u.label){case 0:return this.isVisible("hidden"!==t.attributeState.visibility,t)?(r=this.getX(t),n=this.getY(t),a=this.getWidth(t),s=this.getHeight(t),t.pdf.saveGraphicsState(),o=t.transform,this.element.hasAttribute("transform")&&(o=t.pdf.matrixMult(st(this.element.getAttribute("transform"),t),o)),t.pdf.setCurrentTransformationMatrix(o),t.withinUse||"visible"===c(this.element,t.styleSheets,"overflow")||t.pdf.rect(r,n,a,s).clip().discardPath(),[4,i.prototype.render.call(this,t.clone({transform:t.pdf.unitMatrix,viewport:t.withinUse?t.viewport:new lt(a,s)}))]):[2];case 1:return u.sent(),t.pdf.restoreGraphicsState(),[2]}})})},e.prototype.computeNodeTransform=function(t){return this.computeNodeTransformCore(t)},e.prototype.computeNodeTransformCore=function(t){if(t.withinUse)return t.pdf.unitMatrix;var r,n=this.getX(t),a=this.getY(t),s=this.getViewBox();if(s){var o=this.getWidth(t),u=this.getHeight(t);r=at(this.element,s,n,a,o,u,t)}else r=t.pdf.Matrix(1,0,0,1,n,a);return r},e.prototype.getWidth=function(t){if(void 0!==this.width)return this.width;var r,n,a=t.svg2pdfParameters;if(this.isOutermostSvg(t))if(null!=a.width)r=a.width;else if(n=c(this.element,t.styleSheets,"width"))r=parseFloat(n);else{var s=this.getViewBox();if(s&&(null!=a.height||c(this.element,t.styleSheets,"height"))){var o=s[2]/s[3];r=this.getHeight(t)*o}else r=Math.min(300,t.viewport.width,2*t.viewport.height)}else r=(n=c(this.element,t.styleSheets,"width"))?parseFloat(n):t.viewport.width;return this.width=r},e.prototype.getHeight=function(t){if(void 0!==this.height)return this.height;var r,n,a=t.svg2pdfParameters;if(this.isOutermostSvg(t))if(null!=a.height)r=a.height;else if(n=c(this.element,t.styleSheets,"height"))r=parseFloat(n);else{var s=this.getViewBox();if(s){var o=s[2]/s[3];r=this.getWidth(t)/o}else r=Math.min(150,t.viewport.width/2,t.viewport.height)}else r=(n=c(this.element,t.styleSheets,"height"))?parseFloat(n):t.viewport.height;return this.height=r},e.prototype.getX=function(t){if(void 0!==this.x)return this.x;if(this.isOutermostSvg(t))return this.x=0;var r=c(this.element,t.styleSheets,"x");return this.x=r?parseFloat(r):0},e.prototype.getY=function(t){if(void 0!==this.y)return this.y;if(this.isOutermostSvg(t))return this.y=0;var r=c(this.element,t.styleSheets,"y");return this.y=r?parseFloat(r):0},e.prototype.getViewBox=function(){if(void 0!==this.viewBox)return this.viewBox;var t=this.element.getAttribute("viewBox");return this.viewBox=t?B(t):void 0},e.prototype.isOutermostSvg=function(t){return t.svg2pdfParameters.element===this.element},e}(Yt),ve=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.isVisible=function(t,r){return G(this,t,r)},e.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},e}(Yt),xe=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return x(e,i),e.prototype.apply=function(t){return S(this,void 0,void 0,function(){var r,n,a;return w(this,function(s){switch(s.label){case 0:if(!this.isVisible(!0,t))return[2];r=t.pdf.matrixMult(this.computeNodeTransform(t),t.transform),t.pdf.setCurrentTransformationMatrix(r),n=0,a=this.children,s.label=1;case 1:return n<a.length?[4,a[n].render(new W(t.pdf,{refsHandler:t.refsHandler,styleSheets:t.styleSheets,viewport:t.viewport,withinClipPath:!0,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure}))]:[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return t.pdf.clip().discardPath(),t.pdf.setCurrentTransformationMatrix(r.inversed()),[2]}})})},e.prototype.getBoundingBoxCore=function(t){return mt(t,this)},e.prototype.isVisible=function(t,r){return G(this,t,r)},e}(rt);function St(i,e){var t,r=[];switch(function(a,s){for(var o=[],u=0;u<a.childNodes.length;u++){var f=a.childNodes[u];"#"!==f.nodeName.charAt(0)&&o.push(f)}for(u=0;u<o.length;u++)s(0,o[u])}(i,function(a,s){return r.push(St(s,e))}),i.tagName.toLowerCase()){case"a":case"g":t=new ve(i,r);break;case"circle":t=new ge(i,r);break;case"clippath":t=new xe(i,r);break;case"ellipse":t=new le(i,r);break;case"lineargradient":t=new Ot(i,r);break;case"image":t=new ce(i,r);break;case"line":t=new ae(i,r);break;case"marker":t=new me(i,r);break;case"path":t=new he(i,r);break;case"pattern":t=new Lt(i,r);break;case"polygon":t=new pe(i,r);break;case"polyline":t=new ye(i,r);break;case"radialgradient":t=new Et(i,r);break;case"rect":t=new oe(i,r);break;case"svg":t=new be(i,r);break;case"symbol":t=new Wt(i,r);break;case"text":t=new ue(i,r);break;case"use":t=new se(i,r);break;default:t=new de(i,r)}if(null!=e&&t.element.hasAttribute("id")){var n=Mt(t.element.id,{isIdentifier:!0});e[n]=e[n]||t}return t.children.forEach(function(a){return a.setParent(t)}),t}var Se=function(){function i(e,t){this.rootSvg=e,this.loadExternalSheets=t,this.styleSheets=[]}return i.prototype.load=function(){return S(this,void 0,void 0,function(){var e;return w(this,function(t){switch(t.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return e=t.sent(),this.parseCssSheets(e),[2]}})})},i.prototype.collectStyleSheetTexts=function(){return S(this,void 0,void 0,function(){var e,t,r,n,a;return w(this,function(s){switch(s.label){case 0:if(e=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(n=0;n<this.rootSvg.ownerDocument.childNodes.length;n++)"xml-stylesheet"===(t=this.rootSvg.ownerDocument.childNodes[n]).nodeName&&"string"==typeof t.data&&e.push(i.loadSheet(t.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(r=this.rootSvg.querySelectorAll("style,link"),n=0;n<r.length;n++)V(a=r[n],"style")?e.push(a.textContent):this.loadExternalSheets&&V(a,"link")&&"stylesheet"===a.getAttribute("rel")&&a.hasAttribute("href")&&e.push(i.loadSheet(a.getAttribute("href")));return[4,Promise.all(e)];case 1:return[2,s.sent().filter(function(o){return null!==o})]}})})},i.prototype.parseCssSheets=function(e){for(var t=document.implementation.createHTMLDocument(""),r=0,n=e;r<n.length;r++){var a=n[r],s=t.createElement("style");s.textContent=a,t.body.appendChild(s);var o=s.sheet;if(o instanceof CSSStyleSheet){for(var u=o.cssRules.length-1;u>=0;u--){var f=o.cssRules[u];if(f instanceof CSSStyleRule){var l=f;if(l.selectorText.indexOf(",")>=0){o.deleteRule(u);for(var h=l.cssText.substring(l.selectorText.length),g=i.splitSelectorAtCommas(l.selectorText),m=0;m<g.length;m++)o.insertRule(g[m]+h,u+m)}}else o.deleteRule(u)}this.styleSheets.push(o)}}},i.splitSelectorAtCommas=function(e){for(var t,r=/,|["']/g,n=/[^\\]["]/g,a=/[^\\][']/g,s=[],o="initial",u=-1,f=n,l=0;l<e.length;)switch(o){case"initial":r.lastIndex=l,(t=r.exec(e))?(","===t[0]?(s.push(e.substring(u+1,r.lastIndex-1).trim()),u=r.lastIndex-1):(o="withinQuotes",f='"'===t[0]?n:a),l=r.lastIndex):(s.push(e.substring(u+1).trim()),l=e.length);break;case"withinQuotes":f.lastIndex=l,(t=f.exec(e))&&(l=f.lastIndex,o="initial")}return s},i.loadSheet=function(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="text",n.onload=function(){200!==n.status&&r(new Error("Error "+n.status+": Failed to load '"+e+"'")),t(n.responseText)},n.onerror=r,n.onabort=r,n.send(null)}).catch(function(){return null})},i.prototype.getPropertyValue=function(e,t){for(var r=[],n=0,a=this.styleSheets;n<a.length;n++)for(var s=a[n],o=0;o<s.cssRules.length;o++){var u=s.cssRules[o];u.style.getPropertyValue(t)&&e.matches(u.selectorText)&&r.push(u)}if(0!==r.length)return r.reduce(function(f,l){return g=l,1===((m=(h=f).style.getPropertyPriority(t))!==g.style.getPropertyPriority(t)?"important"===m?1:-1:(0,Qt.compare)(h.selectorText,g.selectorText))?f:l;var h,g,m}).style.getPropertyValue(t)||void 0},i}(),we=function(){function i(){this.measureMethods={}}return i.prototype.getTextOffset=function(e,t){var r=t.textAnchor;if("start"===r)return 0;var n=this.measureTextWidth(e,t),a=0;switch(r){case"end":a=n;break;case"middle":a=n/2}return a},i.prototype.measureTextWidth=function(e,t){return 0===e.length?0:this.getMeasureFunction(t.fontFamily).call(this,e,t.fontFamily,t.fontSize+"px",t.fontStyle,t.fontWeight)},i.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.appendChild(this.textMeasuringTextElement),e.style.setProperty("position","absolute"),e.style.setProperty("visibility","hidden"),document.body.appendChild(e)}return this.textMeasuringTextElement},i.prototype.canvasTextMeasure=function(e,t,r,n,a){var s=document.createElement("canvas").getContext("2d");return null!=s?(s.font=[n,a,r,t].join(" "),s.measureText(e).width):0},i.prototype.svgTextMeasure=function(e,t,r,n,a,s){void 0===s&&(s=this.getMeasurementTextNode());var o=s;return o.setAttribute("font-family",t),o.setAttribute("font-size",r),o.setAttribute("font-style",n),o.setAttribute("font-weight",a),o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),o.textContent=e,o.getBBox().width},i.prototype.getMeasureFunction=function(e){var t=this.measureMethods[e];if(!t){var r=this.canvasTextMeasure(i.testString,e,"16px","normal","normal"),n=this.svgTextMeasure(i.testString,e,"16px","normal","normal");t=Math.abs(r-n)<i.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[e]=t}return t},i.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var e=this.textMeasuringTextElement.parentNode;e&&document.body.removeChild(e),this.textMeasuringTextElement=void 0}},i.testString="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!\"$%&/()=?'\\+*-_.:,;^}][{#~|<>",i.epsilon=.1,i}();function Xt(i,e,t){var r,n,a;return void 0===t&&(t={}),S(this,void 0,void 0,function(){var s,o,u,f,l,h,g,m,y,d,b;return w(this,function(p){switch(p.label){case 0:return s=null!==(r=t.x)&&void 0!==r?r:0,o=null!==(n=t.y)&&void 0!==n?n:0,u=null!==(a=t.loadExternalStyleSheets)&&void 0!==a&&a,l=new Ct(f={}),[4,(h=new Se(i,u)).load()];case 1:return p.sent(),g=new lt(e.internal.pageSize.getWidth(),e.internal.pageSize.getHeight()),m=ht(ht({},t),{element:i}),y=new we,d=new W(e,{refsHandler:l,styleSheets:h,viewport:g,svg2pdfParameters:m,textMeasure:y}),e.advancedAPI(),e.saveGraphicsState(),e.setCurrentTransformationMatrix(e.Matrix(1,0,0,1,s,o)),e.setLineWidth(d.attributeState.strokeWidth),e.setFillColor((b=d.attributeState.fill.color).r,b.g,b.b),e.setFont(d.attributeState.fontFamily),e.setFontSize(d.attributeState.fontSize*e.internal.scaleFactor),[4,St(i,f).render(d)];case 2:return p.sent(),e.restoreGraphicsState(),e.compatAPI(),d.textMeasure.cleanupTextMeasuring(),[2,e]}})})}K.jsPDF.API.svg=function(i,e){return void 0===e&&(e={}),Xt(i,this,e)}}}]);
//# sourceMappingURL=937.b5d50840bcde82a7.js.map